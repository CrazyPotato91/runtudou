{"remainingRequest":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/Navbar.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/Navbar.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/css-loader/dist/cjs.js","mtime":1632030570508},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1632030570748},{"path":"/Users/chenzhe/blog/node_modules/postcss-loader/src/index.js","mtime":1623130371850},{"path":"/Users/chenzhe/blog/node_modules/stylus-loader/index.js","mtime":1632030571145},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQHJlcXVpcmUgJy4uL3N0eWxlcy9tb2RlLnN0eWwnCkByZXF1aXJlICcuLi9zdHlsZXMvbWl4aW5zLnN0eWwnCgokbmF2YmFyLXZlcnRpY2FsLXBhZGRpbmcgPSAwLjdyZW0KJG5hdmJhci1ob3Jpem9udGFsLXBhZGRpbmcgPSAxLjVyZW0KCi5uYXZiYXIKICBwYWRkaW5nICRuYXZiYXItdmVydGljYWwtcGFkZGluZyAkbmF2YmFyLWhvcml6b250YWwtcGFkZGluZwogIGxpbmUtaGVpZ2h0ICRuYXZiYXJIZWlnaHQgLSAxLjRyZW0KICB6LWluZGV4IDEwCiAgdG9wIDAKICBsZWZ0IDAKICByaWdodCAwCiAgaGVpZ2h0ICRuYXZiYXJIZWlnaHQKICBib3gtc2l6aW5nIGJvcmRlci1ib3gKICBiYWNrZ3JvdW5kLWNvbG9yIHRyYW5zcGFyZW50CiAgcG9zaXRpb24gYWJzb2x1dGUKICB0cmFuc2l0aW9uKGJhY2tncm91bmQtY29sb3IgMC4zcykKICB0cmFuc2Zvcm0odHJhbnNsYXRlM2QoMCwgMCwgMCkpCiAgYSwgc3BhbiwgaW1nCiAgICBkaXNwbGF5IGlubGluZS1ibG9jawogIGEKICAgIGNvbG9yICNmZmYKICAgIGd1bmduaXItZm9udCgpCiAgICBmb250LXdlaWdodCBib2xkCiAgICAmOmhvdmVyLAogICAgJjpmb2N1cwogICAgICBjb2xvciByZ2JhKCNmZmYsIC44KQogIC5zaXRlLW5hbWUKICAgIGZvbnQtc2l6ZSAxLjFyZW0KICAgIGZvbnQtd2VpZ2h0IDYwMAogICAgcG9zaXRpb24gcmVsYXRpdmUKICAubGlua3MKICAgIHBhZGRpbmctbGVmdCAxLjVyZW0KICAgIGJveC1zaXppbmcgYm9yZGVyLWJveAogICAgd2hpdGUtc3BhY2Ugbm93cmFwCiAgICBmb250LXNpemUgMC44cmVtCiAgICBwb3NpdGlvbiBhYnNvbHV0ZQogICAgcmlnaHQgJG5hdmJhci1ob3Jpem9udGFsLXBhZGRpbmcKICAgIHRvcCAkbmF2YmFyLXZlcnRpY2FsLXBhZGRpbmcKICAgIGRpc3BsYXkgZmxleAogICAgYmFja2dyb3VuZC1jb2xvciB0cmFuc3BhcmVudAogICAgLy8gdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZQogICAgLnNlYXJjaC1ib3gKICAgICAgZmxleDogMCAwIGF1dG8KICAgICAgdmVydGljYWwtYWxpZ24gdG9wCiAgICAgIGlucHV0CiAgICAgICAgd2lkdGggMTJyZW0KICAgICAgICBib3JkZXItcmFkaXVzICRib3JkZXJSYWRpdXMKICAgICAgICBjb2xvciB2YXIoLS10ZXh0LWNvbG9yKQogICAgICAgIGJhY2tncm91bmQtY29sb3IgdHJhbnNwYXJlbnQKICAgICAgICAmOmZvY3VzCiAgICAgICAgICBib3JkZXIgMXB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcikKICAmLmludmVydAogICAgYQogICAgICBjb2xvciB2YXIoLS10ZXh0LWNvbG9yKQogICAgICAmOmhvdmVyLCAmOmZvY3VzCiAgICAgICAgY29sb3IgdmFyKC0tYWNjZW50LWNvbG9yKQoKQG1lZGlhIChtaW4td2lkdGg6ICRNUU1vYmlsZSkKICAubmF2YmFyCiAgICAmLmlzLWZpeGVkCiAgICAgIC8qIHdoZW4gdGhlIHVzZXIgc2Nyb2xscyBkb3duLCB3ZSBoaWRlIHRoZSBoZWFkZXIgcmlnaHQgYWJvdmUgdGhlIHZpZXdwb3J0ICovCiAgICAgIHBvc2l0aW9uIGZpeGVkCiAgICAgIHRvcCAoLSAkbmF2YmFySGVpZ2h0KQogICAgICBiYWNrZ3JvdW5kLWNvbG9yIHZhcigtLWJnLWNvbG9yLXRyYW5zcGFyZW50KQogICAgICBib3JkZXItYm90dG9tIDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpCiAgICAgIGJveC1zaGFkb3cgdmFyKC0tYm94LXNoYWRvdykKICAgICAgdHJhbnNpdGlvbih0cmFuc2Zvcm0gLjNzKQogICAgICBhCiAgICAgICAgY29sb3IgdmFyKC0tdGV4dC1jb2xvcikKICAgICAgICAmOmhvdmVyLCAmOmZvY3VzCiAgICAgICAgICBjb2xvciB2YXIoLS1hY2NlbnQtY29sb3IpCiAgICAmLmlzLXZpc2libGUKICAgICAgdHJhbnNmb3JtKHRyYW5zbGF0ZVkoMTAwJSkpCgpAbWVkaWEgKG1heC13aWR0aDogJE1RTW9iaWxlKQogIC5uYXZiYXIKICAgIC5zaXRlLW5hbWUKICAgICAgbWFyZ2luLWxlZnQ6IC0wLjVyZW0KICAgIC5jYW4taGlkZQogICAgICBkaXNwbGF5IG5vbmUKICAgIC5saW5rcwogICAgICBwYWRkaW5nLWxlZnQgLjJyZW0K"},{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Navbar.vue","sourceRoot":"packages/theme-gungnir/components","sourcesContent":["<template>\n  <header\n    ref=\"navbar\"\n    class=\"navbar\"\n    :class=\"{\n      'is-fixed': isFixed || isSidebar,\n      'is-visible': isVisible || isSidebar,\n      invert: isInvert\n    }\"\n  >\n    <router-link to=\"/\" class=\"home-link\">\n      <span ref=\"siteName\" class=\"site-name\"> $ cd /home/ </span>\n    </router-link>\n\n    <div\n      class=\"links\"\n      :style=\"\n        linksWrapMaxWidth\n          ? {\n              'max-width': linksWrapMaxWidth + 'px'\n            }\n          : {}\n      \"\n    >\n      <NavLinks class=\"can-hide\" @toggle-search=\"$emit('toggle-search')\" />\n    </div>\n  </header>\n</template>\n\n<script>\nimport NavLinks from \"@theme/components/NavLinks\";\n\nexport default {\n  components: {\n    NavLinks\n  },\n\n  props: {\n    isSidebar: {\n      type: Boolean,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      linksWrapMaxWidth: null,\n      // visible: false,\n      previousTop: 0,\n      navHeight: 0,\n      isFixed: false,\n      isVisible: false,\n      isInvert: true\n    };\n  },\n\n  watch: {\n    $route() {\n      this.handleInvert();\n    }\n  },\n\n  mounted() {\n    const MOBILE_DESKTOP_BREAKPOINT = 719; // refer to config.styl\n    const NAVBAR_VERTICAL_PADDING =\n      parseInt(css(this.$el, \"paddingLeft\")) +\n      parseInt(css(this.$el, \"paddingRight\"));\n    const handleLinksWrapWidth = () => {\n      if (document.documentElement.clientWidth < MOBILE_DESKTOP_BREAKPOINT) {\n        this.linksWrapMaxWidth = null;\n      } else {\n        this.linksWrapMaxWidth =\n          this.$el.offsetWidth -\n          NAVBAR_VERTICAL_PADDING -\n          ((this.$refs.siteName && this.$refs.siteName.offsetWidth) || 0);\n      }\n    };\n    handleLinksWrapWidth();\n    window.addEventListener(\"resize\", handleLinksWrapWidth, false);\n    window.addEventListener(\"scroll\", this.handleScroll);\n\n    this.navHeight = this.$refs.navbar.offsetHeight;\n    this.handleInvert();\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n\n  methods: {\n    handleScroll() {\n      const currentTop = window.pageYOffset;\n\n      if (currentTop < this.previousTop) {\n        //if scrolling up...\n        if (currentTop > 0 && this.isFixed) this.isVisible = true;\n        else {\n          this.isVisible = false;\n          this.isFixed = false;\n        }\n      } else {\n        //if scrolling down...\n        this.isVisible = false;\n        if (currentTop > this.navHeight && !this.isFixed) this.isFixed = true;\n      }\n      this.previousTop = currentTop;\n    },\n    handleInvert() {\n      if (\n        // home page\n        this.$page.frontmatter.layout === \"HomePage\" ||\n        // posts with header image\n        (this.$page.id == \"posts\" &&\n          this.$page.frontmatter.header_style == \"image\") ||\n        // tags page with header image\n        ([\"Tags\", \"Tag\"].includes(this.$page.frontmatter.layout) &&\n          this.$themeConfig.pages.tags &&\n          this.$themeConfig.pages.tags.bgImage) ||\n        // links page with header image\n        (this.$page.frontmatter.layout == \"Links\" &&\n          this.$themeConfig.pages.links &&\n          this.$themeConfig.pages.links.bgImage)\n      )\n        this.isInvert = false;\n      else this.isInvert = true;\n    }\n  }\n};\n\nfunction css(el, property) {\n  // NOTE: Known bug, will return 'auto' if style value is 'auto'\n  const win = el.ownerDocument.defaultView;\n  // null means not to return pseudo styles\n  return win.getComputedStyle(el, null)[property];\n}\n</script>\n\n<style lang=\"stylus\">\n@require '../styles/mode.styl'\n@require '../styles/mixins.styl'\n\n$navbar-vertical-padding = 0.7rem\n$navbar-horizontal-padding = 1.5rem\n\n.navbar\n  padding $navbar-vertical-padding $navbar-horizontal-padding\n  line-height $navbarHeight - 1.4rem\n  z-index 10\n  top 0\n  left 0\n  right 0\n  height $navbarHeight\n  box-sizing border-box\n  background-color transparent\n  position absolute\n  transition(background-color 0.3s)\n  transform(translate3d(0, 0, 0))\n  a, span, img\n    display inline-block\n  a\n    color #fff\n    gungnir-font()\n    font-weight bold\n    &:hover,\n    &:focus\n      color rgba(#fff, .8)\n  .site-name\n    font-size 1.1rem\n    font-weight 600\n    position relative\n  .links\n    padding-left 1.5rem\n    box-sizing border-box\n    white-space nowrap\n    font-size 0.8rem\n    position absolute\n    right $navbar-horizontal-padding\n    top $navbar-vertical-padding\n    display flex\n    background-color transparent\n    // text-transform: uppercase\n    .search-box\n      flex: 0 0 auto\n      vertical-align top\n      input\n        width 12rem\n        border-radius $borderRadius\n        color var(--text-color)\n        background-color transparent\n        &:focus\n          border 1px solid var(--accent-color)\n  &.invert\n    a\n      color var(--text-color)\n      &:hover, &:focus\n        color var(--accent-color)\n\n@media (min-width: $MQMobile)\n  .navbar\n    &.is-fixed\n      /* when the user scrolls down, we hide the header right above the viewport */\n      position fixed\n      top (- $navbarHeight)\n      background-color var(--bg-color-transparent)\n      border-bottom 1px solid var(--border-color)\n      box-shadow var(--box-shadow)\n      transition(transform .3s)\n      a\n        color var(--text-color)\n        &:hover, &:focus\n          color var(--accent-color)\n    &.is-visible\n      transform(translateY(100%))\n\n@media (max-width: $MQMobile)\n  .navbar\n    .site-name\n      margin-left: -0.5rem\n    .can-hide\n      display none\n    .links\n      padding-left .2rem\n</style>\n"]}]}