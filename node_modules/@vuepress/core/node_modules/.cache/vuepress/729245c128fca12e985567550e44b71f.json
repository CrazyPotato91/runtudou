{"remainingRequest":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/layouts/Post.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/layouts/Post.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFydGljbGVIZWFkZXIgZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvQXJ0aWNsZUhlYWRlciI7CmltcG9ydCBDb21tb24gZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvQ29tbW9uLnZ1ZSI7CmltcG9ydCBDYXRhbG9nIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL0NhdGFsb2ciOwppbXBvcnQgUGFnZSBmcm9tICJAdGhlbWUvY29tcG9uZW50cy9QYWdlLnZ1ZSI7CmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAiQHRoZW1lL3V0aWxzL3RpbWUiOwp2YXIgY2F0YWxvZ1RvcEFic29sdXRlID0gNDA7CnZhciBjYXRhbG9nVG9wRml4ZWQgPSA4MDsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQb3N0IiwKICBjb21wb25lbnRzOiB7CiAgICBBcnRpY2xlSGVhZGVyOiBBcnRpY2xlSGVhZGVyLAogICAgQ29tbW9uOiBDb21tb24sCiAgICBDYXRhbG9nOiBDYXRhbG9nLAogICAgUGFnZTogUGFnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRml4ZWQ6IGZhbHNlLAogICAgICBjYXRhbG9nVG9wOiAwLAogICAgICBoZWFkZXJIZWlnaHQ6IDAsCiAgICAgIHNjcmVlbldpZHRoOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2VIZWFkZXJTdHlsZTogZnVuY3Rpb24gcGFnZUhlYWRlclN0eWxlKCkgewogICAgICB2YXIgc3R5bGUgPSB7fTsKICAgICAgaWYgKHRoaXMuJHBhZ2UuZnJvbnRtYXR0ZXIuaGVhZGVyX3N0eWxlID09ICJpbWFnZSIgJiYgdGhpcy4kcGFnZS5mcm9udG1hdHRlci5oZWFkZXJfaW1nKSBzdHlsZSA9IHsKICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICJ1cmwoIi5jb25jYXQodGhpcy4kd2l0aEJhc2UodGhpcy4kcGFnZS5mcm9udG1hdHRlci5oZWFkZXJfaW1nLCB0aGlzLiR0aGVtZUNvbmZpZyksICIpIikKICAgICAgfTsKICAgICAgaWYgKCF0aGlzLiRzaG93Q2F0YWxvZykgc3R5bGUucGFkZGluZ1JpZ2h0ID0gIjAiOwogICAgICByZXR1cm4gc3R5bGU7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaW5pdENhdGFsb2coKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0Q2F0YWxvZygpOwogICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LmhlYWRlckhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wb3N0LWhlYWRlciIpLm9mZnNldEhlaWdodDsKICAgICAgICB0aGF0LnNjcmVlbldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKICAgICAgICB0aGF0LmluaXRDYXRhbG9nKCk7CiAgICAgICAgdGhhdC5oYW5kbGVTY3JvbGwoKTsKICAgICAgfSgpOwogICAgfTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhyb3R0bGUodGhpcy5oYW5kbGVTY3JvbGwsIDUwKSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRocm90dGxlKHRoaXMuaGFuZGxlU2Nyb2xsLCA1MCkpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdENhdGFsb2c6IGZ1bmN0aW9uIGluaXRDYXRhbG9nKCkgewogICAgICB0aGlzLmhlYWRlckhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wb3N0LWhlYWRlciIpLm9mZnNldEhlaWdodDsKICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgIGlmICh0aGlzLnNjcmVlbldpZHRoIDw9IDcxOSkgdGhpcy5jYXRhbG9nVG9wID0gLTE1OyAvLyAkTVFNb2JpbGUKICAgICAgZWxzZSB0aGlzLmNhdGFsb2dUb3AgPSB0aGlzLmhlYWRlckhlaWdodCArIGNhdGFsb2dUb3BBYnNvbHV0ZTsKICAgIH0sCiAgICBoYW5kbGVTY3JvbGw6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHsKICAgICAgdmFyIGN1cnJlbnRUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7CgogICAgICBpZiAoY3VycmVudFRvcCA+IHRoaXMuaGVhZGVySGVpZ2h0ICsgY2F0YWxvZ1RvcEFic29sdXRlIC0gY2F0YWxvZ1RvcEZpeGVkKSB7CiAgICAgICAgdGhpcy5pc0ZpeGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLmNhdGFsb2dUb3AgPSBjYXRhbG9nVG9wRml4ZWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0ZpeGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5jYXRhbG9nVG9wID0gdGhpcy5oZWFkZXJIZWlnaHQgKyBjYXRhbG9nVG9wQWJzb2x1dGU7CiAgICAgIH0gLy8gJE1RTW9iaWxlCgoKICAgICAgaWYgKHRoaXMuc2NyZWVuV2lkdGggPD0gNzE5KSB0aGlzLmNhdGFsb2dUb3AgPSAtMTU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Post.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <Common class=\"post-container\">\n    <ArticleHeader\n      v-show=\"$page.title\"\n      class=\"post-header\"\n      :article-info=\"$page\"\n      :class=\"{ 'style-img': $page.frontmatter.header_style == 'image' }\"\n      :style=\"pageHeaderStyle\"\n    >\n      <div\n        v-if=\"\n          $page.frontmatter.header_style == 'image' &&\n          $page.frontmatter.header_mask\n        \"\n        class=\"header-mask\"\n        :style=\"{ background: $page.frontmatter.header_mask }\"\n      />\n    </ArticleHeader>\n    <Page />\n    <Catalog\n      :class=\"{ fixed: isFixed }\"\n      :style=\"{ top: `${catalogTop}px !important` }\"\n    />\n  </Common>\n</template>\n\n<script>\nimport ArticleHeader from \"@theme/components/ArticleHeader\";\nimport Common from \"@theme/components/Common.vue\";\nimport Catalog from \"@theme/components/Catalog\";\nimport Page from \"@theme/components/Page.vue\";\nimport { throttle } from \"@theme/utils/time\";\n\nconst catalogTopAbsolute = 40;\nconst catalogTopFixed = 80;\n\nexport default {\n  name: \"Post\",\n\n  components: {\n    ArticleHeader,\n    Common,\n    Catalog,\n    Page\n  },\n\n  data() {\n    return {\n      isFixed: false,\n      catalogTop: 0,\n      headerHeight: 0,\n      screenWidth: 0\n    };\n  },\n\n  computed: {\n    pageHeaderStyle() {\n      var style = {};\n      if (\n        this.$page.frontmatter.header_style == \"image\" &&\n        this.$page.frontmatter.header_img\n      )\n        style = {\n          backgroundImage: `url(${this.$withBase(\n            this.$page.frontmatter.header_img,\n            this.$themeConfig\n          )})`\n        };\n      if (!this.$showCatalog) style.paddingRight = \"0\";\n      return style;\n    }\n  },\n\n  watch: {\n    $route() {\n      this.$nextTick(() => {\n        this.initCatalog();\n      });\n    }\n  },\n\n  mounted() {\n    this.initCatalog();\n\n    const that = this;\n    window.onresize = () => {\n      return (() => {\n        that.headerHeight = document.querySelector(\".post-header\").offsetHeight;\n        that.screenWidth = document.body.clientWidth;\n        that.initCatalog();\n        that.handleScroll();\n      })();\n    };\n    window.addEventListener(\"scroll\", throttle(this.handleScroll, 50));\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", throttle(this.handleScroll, 50));\n  },\n\n  methods: {\n    initCatalog() {\n      this.headerHeight = document.querySelector(\".post-header\").offsetHeight;\n      this.screenWidth = document.body.clientWidth;\n      if (this.screenWidth <= 719) this.catalogTop = -15;\n      // $MQMobile\n      else this.catalogTop = this.headerHeight + catalogTopAbsolute;\n    },\n    handleScroll() {\n      const currentTop = window.pageYOffset;\n      if (\n        currentTop >\n        this.headerHeight + catalogTopAbsolute - catalogTopFixed\n      ) {\n        this.isFixed = true;\n        this.catalogTop = catalogTopFixed;\n      } else {\n        this.isFixed = false;\n        this.catalogTop = this.headerHeight + catalogTopAbsolute;\n      }\n      // $MQMobile\n      if (this.screenWidth <= 719) this.catalogTop = -15;\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n@require '../styles/mixins.styl'\n@require '../styles/wrapper.styl'\n\n.post-container\n  .post-header\n    max-width 100%\n    position relative\n    padding-top 6rem\n    background-repeat no-repeat\n    background-position center\n    background-size cover\n    .header-content\n      z-index 2\n      position relative\n      .title, .subtitle, .tags, .icons\n        padding 0 2.5rem\n      .title\n        font-size 50px\n        font-weight bold\n      .subtitle\n        margin-top -10px\n        font-weight 400\n        font-size 30px\n    &.style-img\n      padding-top 7.5rem\n      padding-bottom 9rem\n      .title, .subtitle, .tag, .icon\n        color #fff\n        border-color #fff\n    .header-mask\n      width 100%\n      height 100%\n      position absolute\n      margin-top -7.5rem\n      z-index 1\n\n  .page\n    max-width $contentWidth\n    margin 0 auto !important\n    padding-bottom 5rem\n    padding-top 1rem\n    h1\n      font-size 50px\n    h2, h3, h4, h5, h6\n      font-weight bold\n    h2\n      font-size 30px\n    h3\n      font-size 24px\n    h4\n      font-size 21px\n    h5\n      font-size 19px\n      color var(--text-color-sub)\n    h6\n      font-size 16px\n      color var(--text-color-sub)\n    a.header-anchor\n      opacity 1\n    .pager\n      padding 0rem 2.5rem\n      margin-top 30px\n      a\n        text-align center\n        width 45%\n        padding 10px 5px\n    .vssue-comment-wrapper\n      @extend $wrapper\n      margin-top 10rem\n      margin-bottom -3rem\n\n  .catalog\n    position absolute\n    right 1rem\n    height 100%\n    overflow-y scroll\n    &.fixed\n      position fixed\n      height auto\n      bottom 10rem\n    &::-webkit-scrollbar\n      width 0\n      height 0\n\n@media (max-width: $MQLarge)\n  .post-container\n    .page\n      padding-right $catalogWidth\n      max-width 100%\n    .post-header .header-content\n      max-width 100%\n      .title, .subtitle, .tags, .icons\n        padding 0\n\n@media (max-width: $MQMobile)\n  .post-container\n    .post-header\n      padding-top 4rem\n      padding-bottom 0\n      .header-content\n        .title\n          font-size 30px\n        .subtitle\n          font-size 16px\n          margin-top -5px\n      &.style-img\n        padding-top 3rem\n        padding-bottom 4rem\n      .header-mask\n        margin-top -3.1rem\n    .page\n      padding-right 0\n      h1\n        font-size 30px\n      h2\n        font-size 25px\n      h3\n        font-size 22px\n      h4\n        font-size 21px\n      h5\n        font-size 19px\n      h6\n        font-size 16px\n      .pager\n        padding 0 2rem\n      .vssue-comment-wrapper\n        padding 1rem\n        margin-top 13rem\n        margin-bottom -5rem\n    .catalog\n      transition(transform .5s)\n      transform(translateX(calc(100% + 2rem)))\n      position fixed\n      right -2px\n      padding-top 2rem\n      height 100%\n      background-color var(--bg-color)\n      z-index 5\n      &.open\n        transform(translateX(0))\n        box-shadow var(--box-shadow)\n      &.fixed\n        height 100%\n      li\n        border-left none\n        &.active\n          border-left 2px solid var(--accent-color)\n\n@media (max-width: $MQMobileNarrow)\n  .post-container\n    .page .pager\n      padding 0 1rem\n</style>\n\n<style src=\"../styles/theme.styl\" lang=\"stylus\"></style>\n"],"sourceRoot":"packages/theme-gungnir/layouts"}]}