{"remainingRequest":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/Catalog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/Catalog.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvY2hlbnpoZS9ibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlTGluazogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaGVhZGVyczogZnVuY3Rpb24gaGVhZGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHNob3dDYXRhbG9nID8gdGhpcy4kcGFnZS5oZWFkZXJzIDogW107CiAgICB9LAogICAgd2lkdGhTdHlsZTogZnVuY3Rpb24gd2lkdGhTdHlsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVhZGVycy5sZW5ndGggPiAwID8ge30gOiB7CiAgICAgICAgd2lkdGg6ICIwIgogICAgICB9OwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmhhbmRsZVNjcm9sbCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuaGFuZGxlU2Nyb2xsKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNjcm9sbDogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkgewogICAgICBmb3IgKHZhciBpID0gdGhpcy5oZWFkZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgdmFyIGhlYWRlclRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiLmNvbmNhdCh0aGlzLmhlYWRlcnNbaV0uc2x1ZykpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDsKCiAgICAgICAgaWYgKGhlYWRlclRvcCA8PSAxMDApIHsKICAgICAgICAgIHRoaXMuYWN0aXZlTGluayA9IHRoaXMuaGVhZGVyc1tpXS5zbHVnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBoKCJ1bCIsIHsKICAgICAgImNsYXNzIjogewogICAgICAgIGNhdGFsb2c6IHRydWUKICAgICAgfSwKICAgICAgc3R5bGU6IHRoaXMuaGVhZGVycy5sZW5ndGggPiAwID8ge30gOiB7CiAgICAgICAgd2lkdGg6ICIwIgogICAgICB9CiAgICB9LCB0aGlzLmhlYWRlcnMubWFwKGZ1bmN0aW9uIChoZWFkZXIpIHsKICAgICAgdmFyIF9jbGFzczsKCiAgICAgIHJldHVybiBoKCJsaSIsIHsKICAgICAgICAiY2xhc3MiOiAoX2NsYXNzID0gewogICAgICAgICAgYWN0aXZlOiBfdGhpcy5hY3RpdmVMaW5rID09IGhlYWRlci5zbHVnCiAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9jbGFzcywgImxldmVsLSIuY29uY2F0KGhlYWRlci5sZXZlbCksIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAidG9jLWxpbmstIi5jb25jYXQoaGVhZGVyLnNsdWcpLCB0cnVlKSwgX2NsYXNzKSwKICAgICAgICBhdHRyOiB7CiAgICAgICAgICBrZXk6IGhlYWRlci50aXRsZQogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgaWYgKF90aGlzLiRyb3V0ZS5oYXNoICE9PSAiIyIuY29uY2F0KGhlYWRlci5zbHVnKSkgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiIyIuY29uY2F0KGhlYWRlci5zbHVnKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIGhlYWRlci50aXRsZSk7CiAgICB9KSk7CiAgfQp9Ow=="},{"version":3,"sources":["Catalog.vue"],"names":[],"mappings":";;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,YAAA,GAAA,KAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,aAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,GAAA,EAAA,GAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA;AANA,GANA;AAcA,EAAA,OAdA,qBAcA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,YAAA;AACA,GAhBA;AAiBA,EAAA,aAjBA,2BAiBA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,YAAA;AACA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,IAAA,CAAA,GAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,SAAA,GAAA,QAAA,CACA,aADA,YACA,KAAA,OAAA,CAAA,CAAA,EAAA,IADA,GAEA,qBAFA,GAEA,GAFA;;AAGA,YAAA,SAAA,IAAA,GAAA,EAAA;AACA,eAAA,UAAA,GAAA,KAAA,OAAA,CAAA,CAAA,EAAA,IAAA;AACA;AACA;AACA;AACA;AAXA,GApBA;AAiCA,EAAA,MAjCA,kBAiCA,CAjCA,EAiCA;AAAA;;AACA,WAAA,CAAA,CACA,IADA,EAEA;AACA,eAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OADA;AAEA,MAAA,KAAA,EAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,GAAA,EAAA,GAAA;AAAA,QAAA,KAAA,EAAA;AAAA;AAFA,KAFA,EAMA,KAAA,OAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AAAA;;AACA,aAAA,CAAA,CACA,IADA,EAEA;AACA;AACA,UAAA,MAAA,EAAA,KAAA,CAAA,UAAA,IAAA,MAAA,CAAA;AADA,mDAEA,MAAA,CAAA,KAFA,GAEA,IAFA,8CAGA,MAAA,CAAA,IAHA,GAGA,IAHA,UADA;AAMA,QAAA,IAAA,EAAA;AAAA,UAAA,GAAA,EAAA,MAAA,CAAA;AAAA,SANA;AAOA,QAAA,EAAA,EAAA;AACA,UAAA,KAAA,EAAA,iBAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,gBAAA,MAAA,CAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,YAAA,MAAA,CAAA,IAAA;AACA;AACA;AALA;AAPA,OAFA,EAiBA,MAAA,CAAA,KAjBA,CAAA;AAmBA,KApBA,CANA,CAAA;AA4BA;AA9DA,CAAA","sourcesContent":["<script>\nexport default {\n  data() {\n    return {\n      activeLink: \"\"\n    };\n  },\n  computed: {\n    headers() {\n      return this.$showCatalog ? this.$page.headers : [];\n    },\n    widthStyle() {\n      return this.headers.length > 0 ? {} : { width: \"0\" };\n    }\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    handleScroll() {\n      for (let i = this.headers.length - 1; i >= 0; i--) {\n        const headerTop = document\n          .querySelector(`#${this.headers[i].slug}`)\n          .getBoundingClientRect().top;\n        if (headerTop <= 100) {\n          this.activeLink = this.headers[i].slug;\n          break;\n        }\n      }\n    }\n  },\n  render(h) {\n    return h(\n      \"ul\",\n      {\n        class: { catalog: true },\n        style: this.headers.length > 0 ? {} : { width: \"0\" }\n      },\n      this.headers.map((header) => {\n        return h(\n          \"li\",\n          {\n            class: {\n              active: this.activeLink == header.slug,\n              [`level-${header.level}`]: true,\n              [`toc-link-${header.slug}`]: true\n            },\n            attr: { key: header.title },\n            on: {\n              click: () => {\n                if (this.$route.hash !== `#${header.slug}`) {\n                  this.$router.push(`#${header.slug}`);\n                }\n              }\n            }\n          },\n          header.title\n        );\n      })\n    );\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@require '../styles/mixins.styl'\n\n.catalog\n  width ($catalogWidth - 1rem)\n  padding-left 0\n  list-style none\n  font-size 14px\n  bottom 40px !important\n  top 120px !important\n  overflow-x hidden\n  li\n    cursor pointer\n    border-left 2px solid var(--border-color)\n    padding-right 1rem\n    vertical-align middle\n    overflow-x hidden\n    white-space nowrap\n    text-overflow ellipsis\n    color var(--text-color-sub)\n    &:hover\n      color var(--accent-color)\n    &.active\n      border-left 2px solid var(--accent-color)\n      color var(--accent-color)\n      font-weight bold\n    &.level-2\n      padding-left .6rem\n    &.level-3\n      padding-left 1.4rem\n    &.level-4\n      padding-left 2.2rem\n    &.level-5\n      padding-left 3rem\n\n@media (max-width: $MQMobile)\n  .catalog\n    transition(transform .5s)\n    transform(translateX(calc(100% + 2rem)))\n    position fixed\n    top -15px !important\n    right -2px\n    padding-top 2rem\n    width $catalogWidth !important\n    height 100%\n    background-color var(--bg-color)\n    z-index 5\n    li\n      border-left none\n      color var(--text-color)\n      &.active\n        border-left 2px solid var(--accent-color)\n</style>\n"],"sourceRoot":"packages/theme-gungnir/components"}]}