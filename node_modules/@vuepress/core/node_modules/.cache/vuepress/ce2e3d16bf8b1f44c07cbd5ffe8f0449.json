{"remainingRequest":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/SearchPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/SearchPage.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmlzLWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtYXRjaFF1ZXJ5IGZyb20gIkB2dWVwcmVzcy9wbHVnaW4tc2VhcmNoL21hdGNoLXF1ZXJ5IjsKLyogZ2xvYmFsIFNFQVJDSF9NQVhfU1VHR0VTVElPTlMsIFNFQVJDSF9QQVRIUywgU0VBUkNIX0hPVEtFWVMgKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2VhcmNoQm94IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6ICIiLAogICAgICBmb2N1c2VkOiBmYWxzZSwKICAgICAgZm9jdXNJbmRleDogMCwKICAgICAgcGxhY2Vob2xkZXI6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaG93U3VnZ2VzdGlvbnM6IGZ1bmN0aW9uIHNob3dTdWdnZXN0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuc3VnZ2VzdGlvbnMgJiYgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGg7CiAgICB9LAogICAgc3VnZ2VzdGlvbnM6IGZ1bmN0aW9uIHN1Z2dlc3Rpb25zKCkgewogICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHBhZ2VzID0gdGhpcy4kc2l0ZS5wYWdlczsKICAgICAgdmFyIG1heCA9IHRoaXMuJHNpdGUudGhlbWVDb25maWcuc2VhcmNoTWF4U3VnZ2VzdGlvbnMgfHwgU0VBUkNIX01BWF9TVUdHRVNUSU9OUzsKICAgICAgdmFyIGxvY2FsZVBhdGggPSB0aGlzLiRsb2NhbGVQYXRoOwogICAgICB2YXIgcmVzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHJlcy5sZW5ndGggPj0gbWF4KSBicmVhazsKICAgICAgICB2YXIgcCA9IHBhZ2VzW2ldOyAvLyB3ZSBvbmx5IHNlYXJjaCBwb3N0cwoKICAgICAgICBpZiAocC5pZCAhPSAicG9zdHMiKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9IC8vIGZpbHRlciBvdXQgcmVzdWx0cyB0aGF0IGRvIG5vdCBtYXRjaCBjdXJyZW50IGxvY2FsZQoKCiAgICAgICAgaWYgKHRoaXMuZ2V0UGFnZUxvY2FsZVBhdGgocCkgIT09IGxvY2FsZVBhdGgpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gZmlsdGVyIG91dCByZXN1bHRzIHRoYXQgZG8gbm90IG1hdGNoIHNlYXJjaGFibGUgcGF0aHMKCgogICAgICAgIGlmICghdGhpcy5pc1NlYXJjaGFibGUocCkpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gdGl0bGUgYW5kIHRhZ3MKCgogICAgICAgIGlmIChtYXRjaFF1ZXJ5KHF1ZXJ5LCBwKSkgewogICAgICAgICAgcmVzLnB1c2gocCk7CiAgICAgICAgfSAvLyBzdWJ0aXRsZQogICAgICAgIGVsc2UgaWYgKHAuZnJvbnRtYXR0ZXIuc3VidGl0bGUgJiYgbWF0Y2hRdWVyeShxdWVyeSwgcCwgcC5mcm9udG1hdHRlci5zdWJ0aXRsZSkpIHsKICAgICAgICAgICAgcmVzLnB1c2gocCk7CiAgICAgICAgICB9IC8vIGhlYWRlcnMKICAgICAgICAgIGVsc2UgaWYgKHAuaGVhZGVycykgewogICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcC5oZWFkZXJzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+PSBtYXgpIGJyZWFrOwogICAgICAgICAgICAgICAgdmFyIGggPSBwLmhlYWRlcnNbal07CgogICAgICAgICAgICAgICAgaWYgKGgudGl0bGUgJiYgbWF0Y2hRdWVyeShxdWVyeSwgcCwgaC50aXRsZSkpIHsKICAgICAgICAgICAgICAgICAgcmVzLnB1c2gocCk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzOwogICAgfSwKICAgIC8vIG1ha2Ugc3VnZ2VzdGlvbnMgYWxpZ24gcmlnaHQgd2hlbiB0aGVyZSBhcmUgbm90IGVub3VnaCBpdGVtcwogICAgYWxpZ25SaWdodDogZnVuY3Rpb24gYWxpZ25SaWdodCgpIHsKICAgICAgdmFyIG5hdkNvdW50ID0gKHRoaXMuJHNpdGUudGhlbWVDb25maWcubmF2IHx8IFtdKS5sZW5ndGg7CiAgICAgIHZhciByZXBvID0gdGhpcy4kc2l0ZS5yZXBvID8gMSA6IDA7CiAgICAgIHJldHVybiBuYXZDb3VudCArIHJlcG8gPD0gMjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnBsYWNlaG9sZGVyID0gdGhpcy4kc2l0ZS50aGVtZUNvbmZpZy5zZWFyY2hQbGFjZWhvbGRlciB8fCAiIjsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0aGlzLm9uSG90a2V5KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgdGhpcy5vbkhvdGtleSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQYWdlTG9jYWxlUGF0aDogZnVuY3Rpb24gZ2V0UGFnZUxvY2FsZVBhdGgocGFnZSkgewogICAgICBmb3IgKHZhciBsb2NhbGVQYXRoIGluIHRoaXMuJHNpdGUubG9jYWxlcyB8fCB7fSkgewogICAgICAgIGlmIChsb2NhbGVQYXRoICE9PSAiLyIgJiYgcGFnZS5wYXRoLmluZGV4T2YobG9jYWxlUGF0aCkgPT09IDApIHsKICAgICAgICAgIHJldHVybiBsb2NhbGVQYXRoOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICIvIjsKICAgIH0sCiAgICBpc1NlYXJjaGFibGU6IGZ1bmN0aW9uIGlzU2VhcmNoYWJsZShwYWdlKSB7CiAgICAgIHZhciBzZWFyY2hQYXRocyA9IFNFQVJDSF9QQVRIUzsgLy8gYWxsIHBhdGhzIHNlYXJjaGFibGVzCgogICAgICBpZiAoc2VhcmNoUGF0aHMgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgc2VhcmNoUGF0aHMgPSBBcnJheS5pc0FycmF5KHNlYXJjaFBhdGhzKSA/IHNlYXJjaFBhdGhzIDogbmV3IEFycmF5KHNlYXJjaFBhdGhzKTsKICAgICAgcmV0dXJuIHNlYXJjaFBhdGhzLmZpbHRlcihmdW5jdGlvbiAocGF0aCkgewogICAgICAgIHJldHVybiBwYWdlLnBhdGgubWF0Y2gocGF0aCk7CiAgICAgIH0pLmxlbmd0aCA+IDA7CiAgICB9LAogICAgb25Ib3RrZXk6IGZ1bmN0aW9uIG9uSG90a2V5KGV2ZW50KSB7CiAgICAgIGlmIChldmVudC5zcmNFbGVtZW50ID09PSBkb2N1bWVudC5ib2R5ICYmIFNFQVJDSF9IT1RLRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIHsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgfSwKICAgIG9uVXA6IGZ1bmN0aW9uIG9uVXAoKSB7CiAgICAgIGlmICh0aGlzLnNob3dTdWdnZXN0aW9ucykgewogICAgICAgIGlmICh0aGlzLmZvY3VzSW5kZXggPiAwKSB7CiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXgtLTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb2N1c0luZGV4ID0gdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uRG93bjogZnVuY3Rpb24gb25Eb3duKCkgewogICAgICBpZiAodGhpcy5zaG93U3VnZ2VzdGlvbnMpIHsKICAgICAgICBpZiAodGhpcy5mb2N1c0luZGV4IDwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxKSB7CiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXgrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb2N1c0luZGV4ID0gMDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnbzogZnVuY3Rpb24gZ28oaSkgewogICAgICBpZiAoIXRoaXMuc2hvd1N1Z2dlc3Rpb25zKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLnN1Z2dlc3Rpb25zW2ldLnBhdGgpOwogICAgICB0aGlzLnF1ZXJ5ID0gIiI7CiAgICAgIHRoaXMuZm9jdXNJbmRleCA9IDA7CiAgICB9LAogICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKGkpIHsKICAgICAgdGhpcy5mb2N1c0luZGV4ID0gaTsKICAgIH0sCiAgICB1bmZvY3VzOiBmdW5jdGlvbiB1bmZvY3VzKCkgewogICAgICB0aGlzLmZvY3VzSW5kZXggPSAtMTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["SearchPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"search-page\">\n    <span class=\"search-close\" @click=\"$emit('toggle-search')\">\n      <v-icon name=\"fa-chevron-down\" scale=\"1.8\" />\n    </span>\n    <div class=\"search-box\">\n      <input\n        ref=\"input\"\n        aria-label=\"Search\"\n        :value=\"query\"\n        :class=\"{ focused: focused }\"\n        :placeholder=\"placeholder\"\n        autocomplete=\"off\"\n        spellcheck=\"false\"\n        @input=\"query = $event.target.value\"\n        @focus=\"focused = true\"\n        @blur=\"focused = false\"\n        @keyup.enter=\"go(focusIndex)\"\n        @keyup.up=\"onUp\"\n        @keyup.down=\"onDown\"\n      />\n      <ul\n        v-if=\"showSuggestions\"\n        class=\"suggestions\"\n        :class=\"{ 'align-right': alignRight }\"\n        @mouseleave=\"unfocus\"\n      >\n        <li\n          v-for=\"(s, i) in suggestions\"\n          :key=\"i\"\n          class=\"suggestion\"\n          :class=\"{ focused: i === focusIndex }\"\n          @mousedown=\"go(i)\"\n          @mouseenter=\"focus(i)\"\n        >\n          <a :href=\"s.path\" @click.prevent>\n            <span class=\"page-title\">\n              {{ s.title || s.path }}\n            </span>\n            <span v-if=\"s.frontmatter.subtitle\" class=\"header\">\n              {{ s.frontmatter.subtitle }}\n            </span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport matchQuery from \"@vuepress/plugin-search/match-query\";\n\n/* global SEARCH_MAX_SUGGESTIONS, SEARCH_PATHS, SEARCH_HOTKEYS */\nexport default {\n  name: \"SearchBox\",\n\n  data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0,\n      placeholder: undefined\n    };\n  },\n\n  computed: {\n    showSuggestions() {\n      return this.suggestions && this.suggestions.length;\n    },\n\n    suggestions() {\n      const query = this.query.trim().toLowerCase();\n      if (!query) {\n        return;\n      }\n\n      const { pages } = this.$site;\n      const max =\n        this.$site.themeConfig.searchMaxSuggestions || SEARCH_MAX_SUGGESTIONS;\n      const localePath = this.$localePath;\n      const res = [];\n      for (let i = 0; i < pages.length; i++) {\n        if (res.length >= max) break;\n        const p = pages[i];\n\n        // we only search posts\n        if (p.id != \"posts\") {\n          continue;\n        }\n\n        // filter out results that do not match current locale\n        if (this.getPageLocalePath(p) !== localePath) {\n          continue;\n        }\n\n        // filter out results that do not match searchable paths\n        if (!this.isSearchable(p)) {\n          continue;\n        }\n\n        // title and tags\n        if (matchQuery(query, p)) {\n          res.push(p);\n        }\n        // subtitle\n        else if (\n          p.frontmatter.subtitle &&\n          matchQuery(query, p, p.frontmatter.subtitle)\n        ) {\n          res.push(p);\n        }\n        // headers\n        else if (p.headers) {\n          for (let j = 0; j < p.headers.length; j++) {\n            if (res.length >= max) break;\n            const h = p.headers[j];\n            if (h.title && matchQuery(query, p, h.title)) {\n              res.push(p);\n              break;\n            }\n          }\n        }\n      }\n      return res;\n    },\n\n    // make suggestions align right when there are not enough items\n    alignRight() {\n      const navCount = (this.$site.themeConfig.nav || []).length;\n      const repo = this.$site.repo ? 1 : 0;\n      return navCount + repo <= 2;\n    }\n  },\n\n  mounted() {\n    this.placeholder = this.$site.themeConfig.searchPlaceholder || \"\";\n    document.addEventListener(\"keydown\", this.onHotkey);\n  },\n\n  beforeDestroy() {\n    document.removeEventListener(\"keydown\", this.onHotkey);\n  },\n\n  methods: {\n    getPageLocalePath(page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== \"/\" && page.path.indexOf(localePath) === 0) {\n          return localePath;\n        }\n      }\n      return \"/\";\n    },\n\n    isSearchable(page) {\n      let searchPaths = SEARCH_PATHS;\n\n      // all paths searchables\n      if (searchPaths === null) {\n        return true;\n      }\n\n      searchPaths = Array.isArray(searchPaths)\n        ? searchPaths\n        : new Array(searchPaths);\n\n      return (\n        searchPaths.filter((path) => {\n          return page.path.match(path);\n        }).length > 0\n      );\n    },\n\n    onHotkey(event) {\n      if (\n        event.srcElement === document.body &&\n        SEARCH_HOTKEYS.includes(event.key)\n      ) {\n        this.$refs.input.focus();\n        event.preventDefault();\n      }\n    },\n\n    onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n\n    onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n\n    go(i) {\n      if (!this.showSuggestions) {\n        return;\n      }\n      this.$router.push(this.suggestions[i].path);\n      this.query = \"\";\n      this.focusIndex = 0;\n    },\n\n    focus(i) {\n      this.focusIndex = i;\n    },\n\n    unfocus() {\n      this.focusIndex = -1;\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n@require '../styles/mode.styl'\n@require '../styles/mixins.styl'\n\n.search-page\n  background-color var(--bg-color)\n  position fixed\n  bottom 0\n  left 0\n  width 100%\n  height 100%\n  margin 0\n  overflow hidden\n  z-index 50\n  transition(transform .25s)\n  transform(translateY(100%))\n  .search-close\n    float right\n    margin-right 25px\n    margin-top 25px\n    color #bdbbbb\n    transition(.3s ease)\n    &:hover\n      color #696868\n  .search-box\n    margin 100px auto 0\n    display block\n    width 50%\n    height 100%\n    input\n      gungnir-font()\n      width 100%\n      height auto\n      font-size 28px\n      font-weight bold\n      padding 5px 0\n      border none\n      outline none\n      background transparent\n      color var(--text-color)\n      &::-webkit-input-placeholder\n        color var(--text-color-sub)\n      &::-moz-placeholder\n        color var(--text-color-sub)\n      &:-moz-placeholder\n        color var(--text-color-sub)\n      &:-ms-input-placeholder\n        color var(--text-color-sub)\n    .suggestions\n      gungnir-font()\n      height 70%\n      width 100%\n      margin-top 30px\n      overflow-y scroll\n      padding 0\n      .suggestion\n        padding 0.6rem 0\n        a\n          white-space normal\n          color var(--text-color)\n          .page-title\n            font-size 20px\n            line-height 1.5\n            font-weight 600\n            display block\n          .header\n            font-size 16px\n            line-height 1.5\n            margin-top 5px\n            display block\n            margin-left 0\n        &.focused\n          background-color transparent\n          a\n            color var(--accent-color)\n\n@media (max-width: $MQIpad)\n  .search-page\n    .search-box\n        width 80%\n\n@media (max-width: $MQMobileNarrow)\n  .search-page\n    .search-box\n      input\n        font-size 24px\n      .suggestions\n        margin-top 20px\n        padding 0\n        .suggestion\n          padding 0.4rem 0\n          a\n            .page-title\n              font-size 18px\n              line-height 1.3\n            .header\n              font-size 14px\n              line-height 1.3\n</style>\n"],"sourceRoot":"packages/theme-gungnir/components"}]}