{"remainingRequest":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/Menu.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb2dnbGVNb2RlIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL1RvZ2dsZU1vZGUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFRvZ2dsZU1vZGUKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNNZW51T3BlbjogZmFsc2UsCiAgICAgIGlzVGV4dFZpc2libGU6IGZhbHNlLAogICAgICBpc0J0bkljb25WaXNpYmxlOiB0cnVlLAogICAgICBtZW51VGV4dDogMCwKICAgICAgYm9yZGVyTGVuOiAiMCUgMzE0LjE1OTI2JSIKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHt9LAoKICBtb3VudGVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuaGFuZGxlU2Nyb2xsKTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuaGFuZGxlU2Nyb2xsKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIGNvbnN0IGN1cnJlbnRUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7CiAgICAgIGNvbnN0IGRvY3VIZWlnaHQgPQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aGVtZS1jb250YWluZXIiKS5vZmZzZXRIZWlnaHQ7CiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7CgogICAgICBsZXQgcGVyY2VudCA9IChjdXJyZW50VG9wIC8gKGRvY3VIZWlnaHQgLSB3aW5kb3dIZWlnaHQpKSAqIDEwMDsKICAgICAgaWYgKHBlcmNlbnQgPiAxMDApIHBlcmNlbnQgPSAxMDA7CgogICAgICBpZiAoaXNOYU4ocGVyY2VudCkgfHwgTWF0aC5yb3VuZChwZXJjZW50KSA8PSAwKSB7CiAgICAgICAgcGVyY2VudCA9IDA7CiAgICAgICAgdGhpcy5pc1RleHRWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0J0bkljb25WaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzVGV4dFZpc2libGUgPSB0cnVlOwogICAgICAgIHRoaXMubWVudVRleHQgPSBNYXRoLnJvdW5kKHBlcmNlbnQpICsgIiUiOwogICAgICAgIHRoaXMuaXNCdG5JY29uVmlzaWJsZSA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLmJvcmRlckxlbiA9IDMuMTQxNTkyNiAqIChwZXJjZW50IHx8IDApICsgIiUgMzE0LjE1OTI2JSI7CiAgICB9LAogICAgdG9nZ2xlTWVudSgpIHsKICAgICAgdGhpcy5pc01lbnVPcGVuID0gIXRoaXMuaXNNZW51T3BlbjsKICAgIH0sCiAgICBnb1RvVG9wKCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgIHRvcDogMCwKICAgICAgICBiZWhhdmlvcjogInNtb290aCIKICAgICAgfSk7CiAgICB9LAogICAgZ29Ub0JvdHRvbSgpIHsKICAgICAgdmFyIGRvY3VIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGhlbWUtY29udGFpbmVyIikub2Zmc2V0SGVpZ2h0OwogICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgIHRvcDogZG9jdUhlaWdodCwKICAgICAgICBiZWhhdmlvcjogInNtb290aCIKICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"packages/theme-gungnir/components","sourcesContent":["<template>\n  <div class=\"menu-btn-container\" :class=\"{ open: isMenuOpen }\">\n    <div class=\"menu-btn-wrapper\">\n      <div class=\"menu-btn\" @click=\"toggleMenu\">\n        <div v-show=\"isBtnIconVisible\" class=\"menu-btn-icon\">\n          <span />\n          <span />\n          <span />\n        </div>\n        <div v-show=\"isTextVisible\" class=\"menu-text\">\n          {{ menuText }}\n        </div>\n        <svg class=\"menu-svg\">\n          <circle\n            ref=\"menu_border\"\n            class=\"menu-border\"\n            cx=\"50%\"\n            cy=\"50%\"\n            r=\"48%\"\n            :style=\"{ 'stroke-dasharray': borderLen }\"\n          />\n        </svg>\n      </div>\n      <div class=\"menu-btn-child-wrapper\">\n        <ToggleMode class=\"menu-btn-child\" />\n        <div class=\"menu-btn-child\" @click=\"goToBottom\">\n          <v-icon name=\"fa-chevron-down\" />\n        </div>\n        <div class=\"menu-btn-child\" @click=\"goToTop\">\n          <v-icon name=\"fa-chevron-up\" />\n        </div>\n        <div\n          v-if=\"$page.frontmatter.catalog && $page.headers\"\n          class=\"menu-btn-child menu-toc-btn\"\n          @click=\"$emit('toggle-catalog')\"\n        >\n          <v-icon name=\"fa-list-ul\" />\n        </div>\n        <div\n          class=\"menu-btn-child menu-btn-sidebar\"\n          @click=\"$emit('toggle-sidebar')\"\n        >\n          <v-icon name=\"bi-layout-sidebar-inset\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ToggleMode from \"@theme/components/ToggleMode\";\n\nexport default {\n  components: {\n    ToggleMode\n  },\n\n  data() {\n    return {\n      isMenuOpen: false,\n      isTextVisible: false,\n      isBtnIconVisible: true,\n      menuText: 0,\n      borderLen: \"0% 314.15926%\"\n    };\n  },\n\n  computed: {},\n\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n\n  methods: {\n    handleScroll() {\n      const currentTop = window.pageYOffset;\n      const docuHeight =\n        document.getElementById(\"theme-container\").offsetHeight;\n      const windowHeight = document.documentElement.clientHeight;\n\n      let percent = (currentTop / (docuHeight - windowHeight)) * 100;\n      if (percent > 100) percent = 100;\n\n      if (isNaN(percent) || Math.round(percent) <= 0) {\n        percent = 0;\n        this.isTextVisible = false;\n        this.isBtnIconVisible = true;\n      } else {\n        this.isTextVisible = true;\n        this.menuText = Math.round(percent) + \"%\";\n        this.isBtnIconVisible = false;\n      }\n\n      this.borderLen = 3.1415926 * (percent || 0) + \"% 314.15926%\";\n    },\n    toggleMenu() {\n      this.isMenuOpen = !this.isMenuOpen;\n    },\n    goToTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    },\n    goToBottom() {\n      var docuHeight = document.getElementById(\"theme-container\").offsetHeight;\n      window.scrollTo({\n        top: docuHeight,\n        behavior: \"smooth\"\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@require '../styles/mixins.styl'\n\n// Variables\n$menu-btn-size = 50px\n$menu-btn-radius = 70px\n$menu-btn-transform-origin = $menu-btn-radius + (0.8 * $menu-btn-size / 2)\n\n// Colors\n$menu-btn-primary-color = $accentColor\n$menu-btn-gray = lighten(black, 35%)\n\n// Easings\n$bounce = cubic-bezier(0.5, -0.5, 0.5, 1.5)\n$bezier = cubic-bezier(0.64, 0.04, 0.35, 1)\n\n// Timings\n$delay = 400ms\n$time = 250ms\n$longer-time = ($time*2)\n\n.menu-btn-container\n  position fixed\n  bottom 20px\n  right 20px\n  width $menu-btn-size\n  height $menu-btn-size\n  z-index 40\n\n  .menu-btn-wrapper\n    position relative\n    width 100%\n    height 100%\n\n  .menu-text\n    gungnir-font()\n    color white\n    font-weight 400\n    text-align center\n    line-height $menu-btn-size\n    font-size 15px\n\n  .menu-svg\n    $wider = 6px\n    position absolute\n    // bottom $wider\n    bottom (- $wider / 2)\n    right (- $wider / 2)\n    width $menu-btn-size + $wider\n    height $menu-btn-size + $wider\n    .menu-border\n      stroke $menu-btn-primary-color\n      opacity .9\n      stroke-width 1px\n      fill none\n      transform(rotate(-90deg))\n      transform-origin 50% 50%\n      stroke-dasharray 0% 314.15926%\n\n  &.open\n    .menu-btn\n      span\n        width 3px\n        $menu-btn-open-transition = margin $time, transform $time, border-radius $time, height $time $longer-time\n        transition($menu-btn-open-transition)\n        &:first-child,\n        &:last-child\n          margin 0\n          height 20px\n          border-radius 5px\n        &:first-child\n          transform(translate(-50%, -50%) rotate(45deg))\n        &:nth-of-type(2)\n          opacity 0\n        &:last-child\n          transform(translate(-50%, -50%) rotate(-45deg))\n\n    .menu-btn-child-wrapper\n      transform(translateX((- $menu-btn-radius)))\n      transition-delay 0s\n\n    .menu-btn-child\n      transition-delay $delay\n      & >>> .ov-icon\n        opacity 1\n        color #fff\n        visibility visible\n        transition-delay $delay\n        width 18px\n        height auto\n      &:nth-child(2)\n        transform(rotate(45deg))\n      &:nth-child(3)\n        transform(rotate(90deg))\n      &:nth-child(4)\n        transform(translateY(- ($menu-btn-radius - 0.3 * $menu-btn-size)) rotate(90deg))\n      &:nth-child(5)\n        transform(translateY(- ($menu-btn-radius - 0.3 * $menu-btn-size)) rotate(45deg))\n    .menu-btn-sidebar, .menu-toc-btn\n      display none\n      @media (max-width: $MQMobile)\n        display flex\n\n.menu-btn,\n.menu-btn-child-wrapper\n  position absolute\n  width 100%\n  height 100%\n  top 0\n  right 0\n  bottom 0\n  left 0\n  margin auto\n\n.menu-btn\n  border-radius 50%\n  background-color $menu-btn-primary-color\n  z-index 5\n  box-shadow 0px 0px 5px 1px rgba(0, 0, 0, 0.2)\n  transition(all $time ease-in-out $delay)\n\n  span\n    position absolute\n    top 50%\n    left 50%\n    width 5px\n    height 5px\n    background-color #fff\n    border-radius 50%\n    $menu-btn-transition = height $time, transform $time $longer-time, margin $time $longer-time,\n                          background-color $longer-time, border-radius $longer-time\n    transition($menu-btn-transition)\n    transform(translate(-50%, -50%))\n    &:first-child\n      margin-left -10px\n    &:last-child\n      margin-left 10px\n\n.menu-btn-child-wrapper\n  transition(transform 0.3s $bounce $delay)\n  z-index 4\n  width 80%\n  height 80%\n\n.menu-btn-child\n  position absolute\n  display flex\n  align-items center\n  justify-content center\n  width 100%\n  height 100%\n  top 0\n  right 0\n  bottom 0\n  left 0\n  border-radius 50%\n  // border 3px solid $menu-btn-gray\n  background-color $menu-btn-gray\n  transform-origin $menu-btn-transform-origin\n  transition(all $time $bezier)\n\n  &:nth-child(2), &:nth-child(5)\n    .ov-icon\n      transform(rotate(-45deg))\n\n  &:nth-child(3), &:nth-child(4)\n    .ov-icon\n      transform(rotate(-90deg))\n\n  & >>> .ov-icon\n    opacity 0\n    visibility hidden\n</style>\n"]}]}