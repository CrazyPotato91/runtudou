{"remainingRequest":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/Common.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/Common.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBOYXZiYXIgZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvTmF2YmFyIjsKaW1wb3J0IFNpZGViYXIgZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvU2lkZWJhciI7CmltcG9ydCBTZWFyY2hQYWdlIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL1NlYXJjaFBhZ2UiOwppbXBvcnQgTWVudSBmcm9tICJAdGhlbWUvY29tcG9uZW50cy9NZW51IjsKaW1wb3J0IEZvb3RlciBmcm9tICJAdGhlbWUvY29tcG9uZW50cy9Gb290ZXIiOwppbXBvcnQgU05TIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL1NOUyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTaWRlYmFyOiBTaWRlYmFyLAogICAgTmF2YmFyOiBOYXZiYXIsCiAgICBTZWFyY2hQYWdlOiBTZWFyY2hQYWdlLAogICAgTWVudTogTWVudSwKICAgIEZvb3RlcjogRm9vdGVyLAogICAgU05TOiBTTlMKICB9LAogIHByb3BzOiB7CiAgICBzaWRlYmFySXRlbXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaWRlYmFyT3BlbjogZmFsc2UsCiAgICAgIGlzQ2F0YWxvZ09wZW46IGZhbHNlLAogICAgICBpc1NlYXJjaE9wZW46IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3VsZFNob3dOYXZiYXI6IGZ1bmN0aW9uIHNob3VsZFNob3dOYXZiYXIoKSB7CiAgICAgIHZhciB0aGVtZUNvbmZpZyA9IHRoaXMuJHNpdGUudGhlbWVDb25maWc7CiAgICAgIHZhciBmcm9udG1hdHRlciA9IHRoaXMuJHBhZ2UuZnJvbnRtYXR0ZXI7CiAgICAgIGlmIChmcm9udG1hdHRlci5uYXZiYXIgPT09IGZhbHNlIHx8IHRoZW1lQ29uZmlnLm5hdmJhciA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRoaXMuJHRpdGxlIHx8IHRoZW1lQ29uZmlnLmxvZ28gfHwgdGhlbWVDb25maWcucmVwbyB8fCB0aGVtZUNvbmZpZy5uYXYgfHwgdGhpcy4kdGhlbWVMb2NhbGVDb25maWcubmF2OwogICAgfSwKICAgIHNob3VsZFNob3dTaWRlYmFyOiBmdW5jdGlvbiBzaG91bGRTaG93U2lkZWJhcigpIHsKICAgICAgcmV0dXJuIHRoaXMuc2lkZWJhckl0ZW1zLmxlbmd0aCA+IDA7CiAgICB9LAogICAgcGFnZUNsYXNzZXM6IGZ1bmN0aW9uIHBhZ2VDbGFzc2VzKCkgewogICAgICB2YXIgdXNlclBhZ2VDbGFzcyA9IHRoaXMuJGZyb250bWF0dGVyLnBhZ2VDbGFzczsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgIm5vLW5hdmJhciI6ICF0aGlzLnNob3VsZFNob3dOYXZiYXIsCiAgICAgICAgInNpZGViYXItb3BlbiI6IHRoaXMuaXNTaWRlYmFyT3BlbiwKICAgICAgICAibm8tc2lkZWJhciI6ICF0aGlzLnNob3VsZFNob3dTaWRlYmFyLAogICAgICAgICJjYXRhbG9nLW9wZW4iOiB0aGlzLmlzQ2F0YWxvZ09wZW4sCiAgICAgICAgInNlYXJjaC1vcGVuIjogdGhpcy5pc1NlYXJjaE9wZW4KICAgICAgfSwgdXNlclBhZ2VDbGFzc107CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuaXNTaWRlYmFyT3BlbiA9IGZhbHNlOwogICAgICBfdGhpcy5pc1NlYXJjaE9wZW4gPSBmYWxzZTsgLy8gdGhpcy5pc0NhdGFsb2dPcGVuID0gZmFsc2UKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlU2lkZWJhcjogZnVuY3Rpb24gdG9nZ2xlU2lkZWJhcih0bykgewogICAgICB0aGlzLmlzU2lkZWJhck9wZW4gPSB0eXBlb2YgdG8gPT09ICJib29sZWFuIiA/IHRvIDogIXRoaXMuaXNTaWRlYmFyT3BlbjsKICAgICAgdGhpcy4kZW1pdCgidG9nZ2xlLXNpZGViYXIiLCB0aGlzLmlzU2lkZWJhck9wZW4pOwogICAgfSwKICAgIHRvZ2dsZUNhdGFsb2c6IGZ1bmN0aW9uIHRvZ2dsZUNhdGFsb2codG8pIHsKICAgICAgdGhpcy5pc0NhdGFsb2dPcGVuID0gdHlwZW9mIHRvID09PSAiYm9vbGVhbiIgPyB0byA6ICF0aGlzLmlzQ2F0YWxvZ09wZW47CiAgICAgIHRoaXMuJGVtaXQoInRvZ2dsZS1jYXRhbG9nIiwgdGhpcy5pc0NhdGFsb2dPcGVuKTsKICAgIH0sCiAgICB0b2dnbGVTZWFyY2g6IGZ1bmN0aW9uIHRvZ2dsZVNlYXJjaCh0bykgewogICAgICB0aGlzLmlzU2VhcmNoT3BlbiA9IHR5cGVvZiB0byA9PT0gImJvb2xlYW4iID8gdG8gOiAhdGhpcy5pc1NlYXJjaE9wZW47CiAgICAgIHRoaXMuJGVtaXQoInRvZ2dsZS1zZWFyY2giLCB0aGlzLmlzU2VhcmNoT3Blbik7IC8vIGF1dG8gZm9jdXMKCiAgICAgIGlmICh0aGlzLmlzU2VhcmNoT3BlbikgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNlYXJjaC1wYWdlIGlucHV0IikuZm9jdXMoKTsKICAgICAgICB9LCA0MDApOwogICAgICB9CiAgICB9LAogICAgLy8gc2lkZSBzd2lwZQogICAgb25Ub3VjaFN0YXJ0OiBmdW5jdGlvbiBvblRvdWNoU3RhcnQoZSkgewogICAgICB0aGlzLnRvdWNoU3RhcnQgPSB7CiAgICAgICAgeDogZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLAogICAgICAgIHk6IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WQogICAgICB9OwogICAgfSwKICAgIG9uVG91Y2hFbmQ6IGZ1bmN0aW9uIG9uVG91Y2hFbmQoZSkgewogICAgICB2YXIgZHggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSB0aGlzLnRvdWNoU3RhcnQueDsKICAgICAgdmFyIGR5ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gdGhpcy50b3VjaFN0YXJ0Lnk7CgogICAgICBpZiAoTWF0aC5hYnMoZHgpID4gTWF0aC5hYnMoZHkpICYmIE1hdGguYWJzKGR4KSA+IDQwKSB7CiAgICAgICAgaWYgKGR4ID4gMCAmJiB0aGlzLnRvdWNoU3RhcnQueCA8PSA4MCkgewogICAgICAgICAgdGhpcy50b2dnbGVTaWRlYmFyKHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGViYXIoZmFsc2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Common.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    id=\"theme-container\"\n    class=\"theme-container\"\n    :class=\"pageClasses\"\n    @touchstart=\"onTouchStart\"\n    @touchend=\"onTouchEnd\"\n  >\n    <Navbar\n      v-if=\"shouldShowNavbar\"\n      :is-sidebar=\"shouldShowSidebar\"\n      @toggle-search=\"toggleSearch(true)\"\n    />\n\n    <div class=\"sidebar-mask\" @click=\"toggleSidebar(false)\" />\n\n    <Sidebar :items=\"sidebarItems\" @toggle-search=\"toggleSearch(true)\">\n      <template slot=\"top\">\n        <div class=\"personal-info-wrapper\">\n          <div class=\"mobile-hero-avatar\">\n            <img\n              :src=\"$withBase($themeConfig.personalInfo.avatar)\"\n              alt=\"hero\"\n            />\n          </div>\n          <p class=\"mobile-heading\">\n            {{ $themeConfig.personalInfo.name }}\n          </p>\n          <SNS />\n          <hr />\n        </div>\n      </template>\n      <slot slot=\"bottom\" name=\"sidebar-bottom\" />\n    </Sidebar>\n\n    <div class=\"content\">\n      <slot />\n    </div>\n\n    <SearchPage\n      v-if=\"$themeConfig.search && $frontmatter.search !== false\"\n      @toggle-search=\"toggleSearch(false)\"\n    />\n    <Menu @toggle-sidebar=\"toggleSidebar\" @toggle-catalog=\"toggleCatalog\" />\n    <Footer v-if=\"!shouldShowSidebar\" class=\"footer\" />\n  </div>\n</template>\n\n<script>\nimport Navbar from \"@theme/components/Navbar\";\nimport Sidebar from \"@theme/components/Sidebar\";\nimport SearchPage from \"@theme/components/SearchPage\";\nimport Menu from \"@theme/components/Menu\";\nimport Footer from \"@theme/components/Footer\";\nimport SNS from \"@theme/components/SNS\";\n\nexport default {\n  components: {\n    Sidebar,\n    Navbar,\n    SearchPage,\n    Menu,\n    Footer,\n    SNS\n  },\n\n  props: {\n    sidebarItems: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      isSidebarOpen: false,\n      isCatalogOpen: false,\n      isSearchOpen: false\n    };\n  },\n\n  computed: {\n    shouldShowNavbar() {\n      const { themeConfig } = this.$site;\n      const { frontmatter } = this.$page;\n\n      if (frontmatter.navbar === false || themeConfig.navbar === false)\n        return false;\n\n      return (\n        this.$title ||\n        themeConfig.logo ||\n        themeConfig.repo ||\n        themeConfig.nav ||\n        this.$themeLocaleConfig.nav\n      );\n    },\n\n    shouldShowSidebar() {\n      return this.sidebarItems.length > 0;\n    },\n\n    pageClasses() {\n      const userPageClass = this.$frontmatter.pageClass;\n      return [\n        {\n          \"no-navbar\": !this.shouldShowNavbar,\n          \"sidebar-open\": this.isSidebarOpen,\n          \"no-sidebar\": !this.shouldShowSidebar,\n          \"catalog-open\": this.isCatalogOpen,\n          \"search-open\": this.isSearchOpen\n        },\n        userPageClass\n      ];\n    }\n  },\n\n  mounted() {\n    this.$router.afterEach(() => {\n      this.isSidebarOpen = false;\n      this.isSearchOpen = false;\n      // this.isCatalogOpen = false\n    });\n  },\n\n  methods: {\n    toggleSidebar(to) {\n      this.isSidebarOpen = typeof to === \"boolean\" ? to : !this.isSidebarOpen;\n      this.$emit(\"toggle-sidebar\", this.isSidebarOpen);\n    },\n\n    toggleCatalog(to) {\n      this.isCatalogOpen = typeof to === \"boolean\" ? to : !this.isCatalogOpen;\n      this.$emit(\"toggle-catalog\", this.isCatalogOpen);\n    },\n\n    toggleSearch(to) {\n      this.isSearchOpen = typeof to === \"boolean\" ? to : !this.isSearchOpen;\n      this.$emit(\"toggle-search\", this.isSearchOpen);\n      // auto focus\n      if (this.isSearchOpen) {\n        setTimeout(function () {\n          document.querySelector(\".search-page input\").focus();\n        }, 400);\n      }\n    },\n\n    // side swipe\n    onTouchStart(e) {\n      this.touchStart = {\n        x: e.changedTouches[0].clientX,\n        y: e.changedTouches[0].clientY\n      };\n    },\n\n    onTouchEnd(e) {\n      const dx = e.changedTouches[0].clientX - this.touchStart.x;\n      const dy = e.changedTouches[0].clientY - this.touchStart.y;\n\n      if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 40) {\n        if (dx > 0 && this.touchStart.x <= 80) {\n          this.toggleSidebar(true);\n        } else {\n          this.toggleSidebar(false);\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@require '../styles/mixins.styl'\n@require '../styles/mode.styl'\n\n.theme-container\n  display flex\n  flex-direction column\n  min-height 100%\n  .content\n    flex 1\n  .sidebar-mask\n    position fixed\n    z-index 9\n    top 0\n    left 0\n    width 100vw\n    height 100vh\n    display none\n    background-color rgba(0, 0, 0, .55)\n  .sidebar\n    .mobile-hero-avatar\n      margin 0 auto\n      width 90px\n      height 90px\n      border-radius 100%\n      padding 2px\n      box-shadow var(--box-shadow-hover)\n      img\n        border-radius 100%\n        max-width 100%\n    .mobile-heading\n      text-align center\n      font-size 17px\n      line-height 1\n      font-weight bold\n      // margin-top -5px\n    & >>> .sns-wrapper\n      margin 0 auto\n      padding 0 5px\n      text-align center\n      position relative\n      .icon-stack\n        min-width 25px\n        .icon-sns\n          color var(--text-color)\n  &.sidebar-open\n    .sidebar-mask\n      display block\n  &.search-open\n    .search-page\n      transform(translateY(0))\n  &.no-navbar\n    .sidebar\n      top 0\n\n@media (min-width: ($MQMobile + 1px))\n  .theme-container.no-sidebar\n    .sidebar\n      display none\n\n@media (max-width: $MQMobile)\n  .theme-container\n    &.sidebar-open .sidebar\n      transform(translateX(0))\n    &.no-navbar .sidebar\n      padding-top 0\n    &.catalog-open .catalog\n      transform(translateX(0))\n      box-shadow var(--box-shadow)\n</style>\n"],"sourceRoot":"packages/theme-gungnir/components"}]}