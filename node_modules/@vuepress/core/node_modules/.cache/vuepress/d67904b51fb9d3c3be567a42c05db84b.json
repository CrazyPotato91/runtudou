{"remainingRequest":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/Catalog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/Catalog.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlTGluazogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaGVhZGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHNob3dDYXRhbG9nID8gdGhpcy4kcGFnZS5oZWFkZXJzIDogW107CiAgICB9LAogICAgd2lkdGhTdHlsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVhZGVycy5sZW5ndGggPiAwID8ge30gOiB7IHdpZHRoOiAiMCIgfTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kbGVTY3JvbGwpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmhhbmRsZVNjcm9sbCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmhlYWRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICBjb25zdCBoZWFkZXJUb3AgPSBkb2N1bWVudAogICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuaGVhZGVyc1tpXS5zbHVnfWApCiAgICAgICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwogICAgICAgIGlmIChoZWFkZXJUb3AgPD0gMTAwKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZUxpbmsgPSB0aGlzLmhlYWRlcnNbaV0uc2x1ZzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKAogICAgICAidWwiLAogICAgICB7CiAgICAgICAgY2xhc3M6IHsgY2F0YWxvZzogdHJ1ZSB9LAogICAgICAgIHN0eWxlOiB0aGlzLmhlYWRlcnMubGVuZ3RoID4gMCA/IHt9IDogeyB3aWR0aDogIjAiIH0KICAgICAgfSwKICAgICAgdGhpcy5oZWFkZXJzLm1hcCgoaGVhZGVyKSA9PiB7CiAgICAgICAgcmV0dXJuIGgoCiAgICAgICAgICAibGkiLAogICAgICAgICAgewogICAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAgIGFjdGl2ZTogdGhpcy5hY3RpdmVMaW5rID09IGhlYWRlci5zbHVnLAogICAgICAgICAgICAgIFtgbGV2ZWwtJHtoZWFkZXIubGV2ZWx9YF06IHRydWUsCiAgICAgICAgICAgICAgW2B0b2MtbGluay0ke2hlYWRlci5zbHVnfWBdOiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGF0dHI6IHsga2V5OiBoZWFkZXIudGl0bGUgfSwKICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLmhhc2ggIT09IGAjJHtoZWFkZXIuc2x1Z31gKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAjJHtoZWFkZXIuc2x1Z31gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBoZWFkZXIudGl0bGUKICAgICAgICApOwogICAgICB9KQogICAgKTsKICB9Cn07Cg=="},{"version":3,"sources":["Catalog.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Catalog.vue","sourceRoot":"packages/theme-gungnir/components","sourcesContent":["<script>\nexport default {\n  data() {\n    return {\n      activeLink: \"\"\n    };\n  },\n  computed: {\n    headers() {\n      return this.$showCatalog ? this.$page.headers : [];\n    },\n    widthStyle() {\n      return this.headers.length > 0 ? {} : { width: \"0\" };\n    }\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    handleScroll() {\n      for (let i = this.headers.length - 1; i >= 0; i--) {\n        const headerTop = document\n          .querySelector(`#${this.headers[i].slug}`)\n          .getBoundingClientRect().top;\n        if (headerTop <= 100) {\n          this.activeLink = this.headers[i].slug;\n          break;\n        }\n      }\n    }\n  },\n  render(h) {\n    return h(\n      \"ul\",\n      {\n        class: { catalog: true },\n        style: this.headers.length > 0 ? {} : { width: \"0\" }\n      },\n      this.headers.map((header) => {\n        return h(\n          \"li\",\n          {\n            class: {\n              active: this.activeLink == header.slug,\n              [`level-${header.level}`]: true,\n              [`toc-link-${header.slug}`]: true\n            },\n            attr: { key: header.title },\n            on: {\n              click: () => {\n                if (this.$route.hash !== `#${header.slug}`) {\n                  this.$router.push(`#${header.slug}`);\n                }\n              }\n            }\n          },\n          header.title\n        );\n      })\n    );\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@require '../styles/mixins.styl'\n\n.catalog\n  width ($catalogWidth - 1rem)\n  padding-left 0\n  list-style none\n  font-size 14px\n  bottom 40px !important\n  top 120px !important\n  overflow-x hidden\n  li\n    cursor pointer\n    border-left 2px solid var(--border-color)\n    padding-right 1rem\n    vertical-align middle\n    overflow-x hidden\n    white-space nowrap\n    text-overflow ellipsis\n    color var(--text-color-sub)\n    &:hover\n      color var(--accent-color)\n    &.active\n      border-left 2px solid var(--accent-color)\n      color var(--accent-color)\n      font-weight bold\n    &.level-2\n      padding-left .6rem\n    &.level-3\n      padding-left 1.4rem\n    &.level-4\n      padding-left 2.2rem\n    &.level-5\n      padding-left 3rem\n\n@media (max-width: $MQMobile)\n  .catalog\n    transition(transform .5s)\n    transform(translateX(calc(100% + 2rem)))\n    position fixed\n    top -15px !important\n    right -2px\n    padding-top 2rem\n    width $catalogWidth !important\n    height 100%\n    background-color var(--bg-color)\n    z-index 5\n    li\n      border-left none\n      color var(--text-color)\n      &.active\n        border-left 2px solid var(--accent-color)\n</style>\n"]}]}