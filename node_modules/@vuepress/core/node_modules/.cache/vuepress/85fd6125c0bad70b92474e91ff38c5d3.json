{"remainingRequest":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/Navbar.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZMaW5rcyBmcm9tICJAdGhlbWUvY29tcG9uZW50cy9OYXZMaW5rcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTmF2TGlua3MKICB9LAoKICBwcm9wczogewogICAgaXNTaWRlYmFyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpbmtzV3JhcE1heFdpZHRoOiBudWxsLAogICAgICAvLyB2aXNpYmxlOiBmYWxzZSwKICAgICAgcHJldmlvdXNUb3A6IDAsCiAgICAgIG5hdkhlaWdodDogMCwKICAgICAgaXNGaXhlZDogZmFsc2UsCiAgICAgIGlzVmlzaWJsZTogZmFsc2UsCiAgICAgIGlzSW52ZXJ0OiB0cnVlCiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICAkcm91dGUoKSB7CiAgICAgIHRoaXMuaGFuZGxlSW52ZXJ0KCk7CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIGNvbnN0IE1PQklMRV9ERVNLVE9QX0JSRUFLUE9JTlQgPSA3MTk7IC8vIHJlZmVyIHRvIGNvbmZpZy5zdHlsCiAgICBjb25zdCBOQVZCQVJfVkVSVElDQUxfUEFERElORyA9CiAgICAgIHBhcnNlSW50KGNzcyh0aGlzLiRlbCwgInBhZGRpbmdMZWZ0IikpICsKICAgICAgcGFyc2VJbnQoY3NzKHRoaXMuJGVsLCAicGFkZGluZ1JpZ2h0IikpOwogICAgY29uc3QgaGFuZGxlTGlua3NXcmFwV2lkdGggPSAoKSA9PiB7CiAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCBNT0JJTEVfREVTS1RPUF9CUkVBS1BPSU5UKSB7CiAgICAgICAgdGhpcy5saW5rc1dyYXBNYXhXaWR0aCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5saW5rc1dyYXBNYXhXaWR0aCA9CiAgICAgICAgICB0aGlzLiRlbC5vZmZzZXRXaWR0aCAtCiAgICAgICAgICBOQVZCQVJfVkVSVElDQUxfUEFERElORyAtCiAgICAgICAgICAoKHRoaXMuJHJlZnMuc2l0ZU5hbWUgJiYgdGhpcy4kcmVmcy5zaXRlTmFtZS5vZmZzZXRXaWR0aCkgfHwgMCk7CiAgICAgIH0KICAgIH07CiAgICBoYW5kbGVMaW5rc1dyYXBXaWR0aCgpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIGhhbmRsZUxpbmtzV3JhcFdpZHRoLCBmYWxzZSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kbGVTY3JvbGwpOwoKICAgIHRoaXMubmF2SGVpZ2h0ID0gdGhpcy4kcmVmcy5uYXZiYXIub2Zmc2V0SGVpZ2h0OwogICAgdGhpcy5oYW5kbGVJbnZlcnQoKTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuaGFuZGxlU2Nyb2xsKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIGNvbnN0IGN1cnJlbnRUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7CgogICAgICBpZiAoY3VycmVudFRvcCA8IHRoaXMucHJldmlvdXNUb3ApIHsKICAgICAgICAvL2lmIHNjcm9sbGluZyB1cC4uLgogICAgICAgIGlmIChjdXJyZW50VG9wID4gMCAmJiB0aGlzLmlzRml4ZWQpIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTsKICAgICAgICBlbHNlIHsKICAgICAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmlzRml4ZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9pZiBzY3JvbGxpbmcgZG93bi4uLgogICAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgaWYgKGN1cnJlbnRUb3AgPiB0aGlzLm5hdkhlaWdodCAmJiAhdGhpcy5pc0ZpeGVkKSB0aGlzLmlzRml4ZWQgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMucHJldmlvdXNUb3AgPSBjdXJyZW50VG9wOwogICAgfSwKICAgIGhhbmRsZUludmVydCgpIHsKICAgICAgaWYgKAogICAgICAgIC8vIGhvbWUgcGFnZQogICAgICAgIHRoaXMuJHBhZ2UuZnJvbnRtYXR0ZXIubGF5b3V0ID09PSAiSG9tZVBhZ2UiIHx8CiAgICAgICAgLy8gcG9zdHMgd2l0aCBoZWFkZXIgaW1hZ2UKICAgICAgICAodGhpcy4kcGFnZS5pZCA9PSAicG9zdHMiICYmCiAgICAgICAgICB0aGlzLiRwYWdlLmZyb250bWF0dGVyLmhlYWRlcl9zdHlsZSA9PSAiaW1hZ2UiKSB8fAogICAgICAgIC8vIHRhZ3MgcGFnZSB3aXRoIGhlYWRlciBpbWFnZQogICAgICAgIChbIlRhZ3MiLCAiVGFnIl0uaW5jbHVkZXModGhpcy4kcGFnZS5mcm9udG1hdHRlci5sYXlvdXQpICYmCiAgICAgICAgICB0aGlzLiR0aGVtZUNvbmZpZy5wYWdlcy50YWdzICYmCiAgICAgICAgICB0aGlzLiR0aGVtZUNvbmZpZy5wYWdlcy50YWdzLmJnSW1hZ2UpIHx8CiAgICAgICAgLy8gbGlua3MgcGFnZSB3aXRoIGhlYWRlciBpbWFnZQogICAgICAgICh0aGlzLiRwYWdlLmZyb250bWF0dGVyLmxheW91dCA9PSAiTGlua3MiICYmCiAgICAgICAgICB0aGlzLiR0aGVtZUNvbmZpZy5wYWdlcy5saW5rcyAmJgogICAgICAgICAgdGhpcy4kdGhlbWVDb25maWcucGFnZXMubGlua3MuYmdJbWFnZSkKICAgICAgKQogICAgICAgIHRoaXMuaXNJbnZlcnQgPSBmYWxzZTsKICAgICAgZWxzZSB0aGlzLmlzSW52ZXJ0ID0gdHJ1ZTsKICAgIH0KICB9Cn07CgpmdW5jdGlvbiBjc3MoZWwsIHByb3BlcnR5KSB7CiAgLy8gTk9URTogS25vd24gYnVnLCB3aWxsIHJldHVybiAnYXV0bycgaWYgc3R5bGUgdmFsdWUgaXMgJ2F1dG8nCiAgY29uc3Qgd2luID0gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzsKICAvLyBudWxsIG1lYW5zIG5vdCB0byByZXR1cm4gcHNldWRvIHN0eWxlcwogIHJldHVybiB3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbClbcHJvcGVydHldOwp9Cg=="},{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Navbar.vue","sourceRoot":"packages/theme-gungnir/components","sourcesContent":["<template>\n  <header\n    ref=\"navbar\"\n    class=\"navbar\"\n    :class=\"{\n      'is-fixed': isFixed || isSidebar,\n      'is-visible': isVisible || isSidebar,\n      invert: isInvert\n    }\"\n  >\n    <router-link to=\"/\" class=\"home-link\">\n      <span ref=\"siteName\" class=\"site-name\"> $ cd /home/ </span>\n    </router-link>\n\n    <div\n      class=\"links\"\n      :style=\"\n        linksWrapMaxWidth\n          ? {\n              'max-width': linksWrapMaxWidth + 'px'\n            }\n          : {}\n      \"\n    >\n      <NavLinks class=\"can-hide\" @toggle-search=\"$emit('toggle-search')\" />\n    </div>\n  </header>\n</template>\n\n<script>\nimport NavLinks from \"@theme/components/NavLinks\";\n\nexport default {\n  components: {\n    NavLinks\n  },\n\n  props: {\n    isSidebar: {\n      type: Boolean,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      linksWrapMaxWidth: null,\n      // visible: false,\n      previousTop: 0,\n      navHeight: 0,\n      isFixed: false,\n      isVisible: false,\n      isInvert: true\n    };\n  },\n\n  watch: {\n    $route() {\n      this.handleInvert();\n    }\n  },\n\n  mounted() {\n    const MOBILE_DESKTOP_BREAKPOINT = 719; // refer to config.styl\n    const NAVBAR_VERTICAL_PADDING =\n      parseInt(css(this.$el, \"paddingLeft\")) +\n      parseInt(css(this.$el, \"paddingRight\"));\n    const handleLinksWrapWidth = () => {\n      if (document.documentElement.clientWidth < MOBILE_DESKTOP_BREAKPOINT) {\n        this.linksWrapMaxWidth = null;\n      } else {\n        this.linksWrapMaxWidth =\n          this.$el.offsetWidth -\n          NAVBAR_VERTICAL_PADDING -\n          ((this.$refs.siteName && this.$refs.siteName.offsetWidth) || 0);\n      }\n    };\n    handleLinksWrapWidth();\n    window.addEventListener(\"resize\", handleLinksWrapWidth, false);\n    window.addEventListener(\"scroll\", this.handleScroll);\n\n    this.navHeight = this.$refs.navbar.offsetHeight;\n    this.handleInvert();\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n\n  methods: {\n    handleScroll() {\n      const currentTop = window.pageYOffset;\n\n      if (currentTop < this.previousTop) {\n        //if scrolling up...\n        if (currentTop > 0 && this.isFixed) this.isVisible = true;\n        else {\n          this.isVisible = false;\n          this.isFixed = false;\n        }\n      } else {\n        //if scrolling down...\n        this.isVisible = false;\n        if (currentTop > this.navHeight && !this.isFixed) this.isFixed = true;\n      }\n      this.previousTop = currentTop;\n    },\n    handleInvert() {\n      if (\n        // home page\n        this.$page.frontmatter.layout === \"HomePage\" ||\n        // posts with header image\n        (this.$page.id == \"posts\" &&\n          this.$page.frontmatter.header_style == \"image\") ||\n        // tags page with header image\n        ([\"Tags\", \"Tag\"].includes(this.$page.frontmatter.layout) &&\n          this.$themeConfig.pages.tags &&\n          this.$themeConfig.pages.tags.bgImage) ||\n        // links page with header image\n        (this.$page.frontmatter.layout == \"Links\" &&\n          this.$themeConfig.pages.links &&\n          this.$themeConfig.pages.links.bgImage)\n      )\n        this.isInvert = false;\n      else this.isInvert = true;\n    }\n  }\n};\n\nfunction css(el, property) {\n  // NOTE: Known bug, will return 'auto' if style value is 'auto'\n  const win = el.ownerDocument.defaultView;\n  // null means not to return pseudo styles\n  return win.getComputedStyle(el, null)[property];\n}\n</script>\n\n<style lang=\"stylus\">\n@require '../styles/mode.styl'\n@require '../styles/mixins.styl'\n\n$navbar-vertical-padding = 0.7rem\n$navbar-horizontal-padding = 1.5rem\n\n.navbar\n  padding $navbar-vertical-padding $navbar-horizontal-padding\n  line-height $navbarHeight - 1.4rem\n  z-index 10\n  top 0\n  left 0\n  right 0\n  height $navbarHeight\n  box-sizing border-box\n  background-color transparent\n  position absolute\n  transition(background-color 0.3s)\n  transform(translate3d(0, 0, 0))\n  a, span, img\n    display inline-block\n  a\n    color #fff\n    gungnir-font()\n    font-weight bold\n    &:hover,\n    &:focus\n      color rgba(#fff, .8)\n  .site-name\n    font-size 1.1rem\n    font-weight 600\n    position relative\n  .links\n    padding-left 1.5rem\n    box-sizing border-box\n    white-space nowrap\n    font-size 0.8rem\n    position absolute\n    right $navbar-horizontal-padding\n    top $navbar-vertical-padding\n    display flex\n    background-color transparent\n    // text-transform: uppercase\n    .search-box\n      flex: 0 0 auto\n      vertical-align top\n      input\n        width 12rem\n        border-radius $borderRadius\n        color var(--text-color)\n        background-color transparent\n        &:focus\n          border 1px solid var(--accent-color)\n  &.invert\n    a\n      color var(--text-color)\n      &:hover, &:focus\n        color var(--accent-color)\n\n@media (min-width: $MQMobile)\n  .navbar\n    &.is-fixed\n      /* when the user scrolls down, we hide the header right above the viewport */\n      position fixed\n      top (- $navbarHeight)\n      background-color var(--bg-color-transparent)\n      border-bottom 1px solid var(--border-color)\n      box-shadow var(--box-shadow)\n      transition(transform .3s)\n      a\n        color var(--text-color)\n        &:hover, &:focus\n          color var(--accent-color)\n    &.is-visible\n      transform(translateY(100%))\n\n@media (max-width: $MQMobile)\n  .navbar\n    .site-name\n      margin-left: -0.5rem\n    .can-hide\n      display none\n    .links\n      padding-left .2rem\n</style>\n"]}]}