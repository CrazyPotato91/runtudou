{"remainingRequest":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/chenzhe/blog/packages/plugins/baidu-tongji/enhanceAppFile.js","dependencies":[{"path":"/Users/chenzhe/blog/packages/plugins/baidu-tongji/enhanceAppFile.js","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi8KZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChfcmVmKSB7CiAgdmFyIHJvdXRlciA9IF9yZWYucm91dGVyOwoKICAvLyBCYWlkdSBUb25namkgaW50ZWdyYXRpb24KICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICJwcm9kdWN0aW9uIiAmJiBCQV9JRCAmJiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIikgewogICAgd2luZG93Ll9obXQgPSB3aW5kb3cuX2htdCB8fCBbXTsKCiAgICAoZnVuY3Rpb24gKCkgewogICAgICB2YXIgaG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgaG0uc3JjID0gImh0dHBzOi8vaG0uYmFpZHUuY29tL2htLmpzPyIuY29uY2F0KEJBX0lEKTsKICAgICAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07CiAgICAgIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaG0sIHMpOwogICAgfSkoKTsKCiAgICByb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICh0bykgewogICAgICBfaG10LnB1c2goWyJfdHJhY2tQYWdldmlldyIsIHRvLmZ1bGxQYXRoXSk7CiAgICB9KTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/chenzhe/blog/packages/plugins/baidu-tongji/enhanceAppFile.js"],"names":["router","process","env","NODE_ENV","BA_ID","window","_hmt","hm","document","createElement","src","s","getElementsByTagName","parentNode","insertBefore","afterEach","to","push","fullPath"],"mappings":"AAAA;AAEA,gBAAe,gBAAgB;AAAA,MAAbA,MAAa,QAAbA,MAAa;;AAC7B;AACA,MACEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IACAC,KADA,IAEA,OAAOC,MAAP,KAAkB,WAHpB,EAIE;AACAA,IAAAA,MAAM,CAACC,IAAP,GAAcD,MAAM,CAACC,IAAP,IAAe,EAA7B;;AACA,KAAC,YAAY;AACX,UAAIC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAT;AACAF,MAAAA,EAAE,CAACG,GAAH,wCAAuCN,KAAvC;AACA,UAAIO,CAAC,GAAGH,QAAQ,CAACI,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAAR;AACAD,MAAAA,CAAC,CAACE,UAAF,CAAaC,YAAb,CAA0BP,EAA1B,EAA8BI,CAA9B;AACD,KALD;;AAOAX,IAAAA,MAAM,CAACe,SAAP,CAAiB,UAAUC,EAAV,EAAc;AAC7BV,MAAAA,IAAI,CAACW,IAAL,CAAU,CAAC,gBAAD,EAAmBD,EAAE,CAACE,QAAtB,CAAV;AACD,KAFD;AAGD;AACF,CAnBD","sourcesContent":["/* eslint-disable no-undef */\n\nexport default ({ router }) => {\n  // Baidu Tongji integration\n  if (\n    process.env.NODE_ENV === \"production\" &&\n    BA_ID &&\n    typeof window !== \"undefined\"\n  ) {\n    window._hmt = window._hmt || [];\n    (function () {\n      var hm = document.createElement(\"script\");\n      hm.src = `https://hm.baidu.com/hm.js?${BA_ID}`;\n      var s = document.getElementsByTagName(\"script\")[0];\n      s.parentNode.insertBefore(hm, s);\n    })();\n\n    router.afterEach(function (to) {\n      _hmt.push([\"_trackPageview\", to.fullPath]);\n    });\n  }\n};\n"]}]}