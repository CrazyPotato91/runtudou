{"remainingRequest":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/Catalog.vue?vue&type=style&index=0&id=86932056&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/Catalog.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/css-loader/dist/cjs.js","mtime":1632030570508},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1632030570748},{"path":"/Users/chenzhe/blog/node_modules/postcss-loader/src/index.js","mtime":1623130371850},{"path":"/Users/chenzhe/blog/node_modules/stylus-loader/index.js","mtime":1632030571145},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAcmVxdWlyZSAnLi4vc3R5bGVzL21peGlucy5zdHlsJwoKLmNhdGFsb2cKICB3aWR0aCAoJGNhdGFsb2dXaWR0aCAtIDFyZW0pCiAgcGFkZGluZy1sZWZ0IDAKICBsaXN0LXN0eWxlIG5vbmUKICBmb250LXNpemUgMTRweAogIGJvdHRvbSA0MHB4ICFpbXBvcnRhbnQKICB0b3AgMTIwcHggIWltcG9ydGFudAogIG92ZXJmbG93LXggaGlkZGVuCiAgbGkKICAgIGN1cnNvciBwb2ludGVyCiAgICBib3JkZXItbGVmdCAycHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKQogICAgcGFkZGluZy1yaWdodCAxcmVtCiAgICB2ZXJ0aWNhbC1hbGlnbiBtaWRkbGUKICAgIG92ZXJmbG93LXggaGlkZGVuCiAgICB3aGl0ZS1zcGFjZSBub3dyYXAKICAgIHRleHQtb3ZlcmZsb3cgZWxsaXBzaXMKICAgIGNvbG9yIHZhcigtLXRleHQtY29sb3Itc3ViKQogICAgJjpob3ZlcgogICAgICBjb2xvciB2YXIoLS1hY2NlbnQtY29sb3IpCiAgICAmLmFjdGl2ZQogICAgICBib3JkZXItbGVmdCAycHggc29saWQgdmFyKC0tYWNjZW50LWNvbG9yKQogICAgICBjb2xvciB2YXIoLS1hY2NlbnQtY29sb3IpCiAgICAgIGZvbnQtd2VpZ2h0IGJvbGQKICAgICYubGV2ZWwtMgogICAgICBwYWRkaW5nLWxlZnQgLjZyZW0KICAgICYubGV2ZWwtMwogICAgICBwYWRkaW5nLWxlZnQgMS40cmVtCiAgICAmLmxldmVsLTQKICAgICAgcGFkZGluZy1sZWZ0IDIuMnJlbQogICAgJi5sZXZlbC01CiAgICAgIHBhZGRpbmctbGVmdCAzcmVtCgpAbWVkaWEgKG1heC13aWR0aDogJE1RTW9iaWxlKQogIC5jYXRhbG9nCiAgICB0cmFuc2l0aW9uKHRyYW5zZm9ybSAuNXMpCiAgICB0cmFuc2Zvcm0odHJhbnNsYXRlWChjYWxjKDEwMCUgKyAycmVtKSkpCiAgICBwb3NpdGlvbiBmaXhlZAogICAgdG9wIC0xNXB4ICFpbXBvcnRhbnQKICAgIHJpZ2h0IC0ycHgKICAgIHBhZGRpbmctdG9wIDJyZW0KICAgIHdpZHRoICRjYXRhbG9nV2lkdGggIWltcG9ydGFudAogICAgaGVpZ2h0IDEwMCUKICAgIGJhY2tncm91bmQtY29sb3IgdmFyKC0tYmctY29sb3IpCiAgICB6LWluZGV4IDUKICAgIGxpCiAgICAgIGJvcmRlci1sZWZ0IG5vbmUKICAgICAgY29sb3IgdmFyKC0tdGV4dC1jb2xvcikKICAgICAgJi5hY3RpdmUKICAgICAgICBib3JkZXItbGVmdCAycHggc29saWQgdmFyKC0tYWNjZW50LWNvbG9yKQo="},{"version":3,"sources":["Catalog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Catalog.vue","sourceRoot":"packages/theme-gungnir/components","sourcesContent":["<script>\nexport default {\n  data() {\n    return {\n      activeLink: \"\"\n    };\n  },\n  computed: {\n    headers() {\n      return this.$showCatalog ? this.$page.headers : [];\n    },\n    widthStyle() {\n      return this.headers.length > 0 ? {} : { width: \"0\" };\n    }\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    handleScroll() {\n      for (let i = this.headers.length - 1; i >= 0; i--) {\n        const headerTop = document\n          .querySelector(`#${this.headers[i].slug}`)\n          .getBoundingClientRect().top;\n        if (headerTop <= 100) {\n          this.activeLink = this.headers[i].slug;\n          break;\n        }\n      }\n    }\n  },\n  render(h) {\n    return h(\n      \"ul\",\n      {\n        class: { catalog: true },\n        style: this.headers.length > 0 ? {} : { width: \"0\" }\n      },\n      this.headers.map((header) => {\n        return h(\n          \"li\",\n          {\n            class: {\n              active: this.activeLink == header.slug,\n              [`level-${header.level}`]: true,\n              [`toc-link-${header.slug}`]: true\n            },\n            attr: { key: header.title },\n            on: {\n              click: () => {\n                if (this.$route.hash !== `#${header.slug}`) {\n                  this.$router.push(`#${header.slug}`);\n                }\n              }\n            }\n          },\n          header.title\n        );\n      })\n    );\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@require '../styles/mixins.styl'\n\n.catalog\n  width ($catalogWidth - 1rem)\n  padding-left 0\n  list-style none\n  font-size 14px\n  bottom 40px !important\n  top 120px !important\n  overflow-x hidden\n  li\n    cursor pointer\n    border-left 2px solid var(--border-color)\n    padding-right 1rem\n    vertical-align middle\n    overflow-x hidden\n    white-space nowrap\n    text-overflow ellipsis\n    color var(--text-color-sub)\n    &:hover\n      color var(--accent-color)\n    &.active\n      border-left 2px solid var(--accent-color)\n      color var(--accent-color)\n      font-weight bold\n    &.level-2\n      padding-left .6rem\n    &.level-3\n      padding-left 1.4rem\n    &.level-4\n      padding-left 2.2rem\n    &.level-5\n      padding-left 3rem\n\n@media (max-width: $MQMobile)\n  .catalog\n    transition(transform .5s)\n    transform(translateX(calc(100% + 2rem)))\n    position fixed\n    top -15px !important\n    right -2px\n    padding-top 2rem\n    width $catalogWidth !important\n    height 100%\n    background-color var(--bg-color)\n    z-index 5\n    li\n      border-left none\n      color var(--text-color)\n      &.active\n        border-left 2px solid var(--accent-color)\n</style>\n"]}]}