{"remainingRequest":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzhe/blog/packages/theme-gungnir/components/SidebarLinks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzhe/blog/packages/theme-gungnir/components/SidebarLinks.vue","mtime":1630639090000},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/babel-loader/lib/index.js","mtime":1623926664360},{"path":"/Users/chenzhe/blog/node_modules/cache-loader/dist/cjs.js","mtime":1632030570429},{"path":"/Users/chenzhe/blog/node_modules/vue-loader/lib/index.js","mtime":1632030570748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTaWRlYmFyR3JvdXAgZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvU2lkZWJhckdyb3VwLnZ1ZSI7CmltcG9ydCBTaWRlYmFyTGluayBmcm9tICJAdGhlbWUvY29tcG9uZW50cy9TaWRlYmFyTGluay52dWUiOwppbXBvcnQgeyBpc0FjdGl2ZSB9IGZyb20gIkB0aGVtZS91dGlscy91dGlscyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNpZGViYXJMaW5rcyIsCgogIGNvbXBvbmVudHM6IHsgU2lkZWJhckdyb3VwLCBTaWRlYmFyTGluayB9LAoKICBwcm9wczogewogICAgaXRlbXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgLy8gZGVwdGggb2YgY3VycmVudCBzaWRlYmFyIGxpbmtzCiAgICBkZXB0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8gZGVwdGggb2YgaGVhZGVycyB0byBiZSBleHRyYWN0ZWQKICAgIHNpZGViYXJEZXB0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGluaXRpYWxPcGVuR3JvdXBJbmRleDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3Blbkdyb3VwSW5kZXg6IHRoaXMuaW5pdGlhbE9wZW5Hcm91cEluZGV4IHx8IDAKICAgIH07CiAgfSwKCiAgd2F0Y2g6IHsKICAgICRyb3V0ZSgpIHsKICAgICAgdGhpcy5yZWZyZXNoSW5kZXgoKTsKICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5yZWZyZXNoSW5kZXgoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICByZWZyZXNoSW5kZXgoKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gcmVzb2x2ZU9wZW5Hcm91cEluZGV4KHRoaXMuJHJvdXRlLCB0aGlzLml0ZW1zKTsKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLm9wZW5Hcm91cEluZGV4ID0gaW5kZXg7CiAgICAgIH0KICAgIH0sCgogICAgdG9nZ2xlR3JvdXAoaW5kZXgpIHsKICAgICAgdGhpcy5vcGVuR3JvdXBJbmRleCA9IGluZGV4ID09PSB0aGlzLm9wZW5Hcm91cEluZGV4ID8gLTEgOiBpbmRleDsKICAgIH0sCgogICAgaXNBY3RpdmUocGFnZSkgewogICAgICByZXR1cm4gaXNBY3RpdmUodGhpcy4kcm91dGUsIHBhZ2UucmVndWxhclBhdGgpOwogICAgfQogIH0KfTsKCmZ1bmN0aW9uIHJlc29sdmVPcGVuR3JvdXBJbmRleChyb3V0ZSwgaXRlbXMpIHsKICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07CiAgICBpZiAoZGVzY2VuZGFudElzQWN0aXZlKHJvdXRlLCBpdGVtKSkgewogICAgICByZXR1cm4gaTsKICAgIH0KICB9CiAgcmV0dXJuIC0xOwp9CgpmdW5jdGlvbiBkZXNjZW5kYW50SXNBY3RpdmUocm91dGUsIGl0ZW0pIHsKICBpZiAoaXRlbS50eXBlID09PSAiZ3JvdXAiKSB7CiAgICByZXR1cm4gaXRlbS5jaGlsZHJlbi5zb21lKChjaGlsZCkgPT4gewogICAgICBpZiAoY2hpbGQudHlwZSA9PT0gImdyb3VwIikgewogICAgICAgIHJldHVybiBkZXNjZW5kYW50SXNBY3RpdmUocm91dGUsIGNoaWxkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gY2hpbGQudHlwZSA9PT0gInBhZ2UiICYmIGlzQWN0aXZlKHJvdXRlLCBjaGlsZC5wYXRoKTsKICAgICAgfQogICAgfSk7CiAgfQogIHJldHVybiBmYWxzZTsKfQo="},{"version":3,"sources":["SidebarLinks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SidebarLinks.vue","sourceRoot":"packages/theme-gungnir/components","sourcesContent":["<template>\n  <ul v-if=\"items.length\" class=\"sidebar-links\">\n    <li v-for=\"(item, i) in items\" :key=\"i\" class=\"sidebar-header\">\n      <SidebarGroup\n        v-if=\"item.type === 'group'\"\n        :item=\"item\"\n        :open=\"i === openGroupIndex\"\n        :collapsable=\"item.collapsable || item.collapsible\"\n        :depth=\"depth\"\n        @toggle=\"toggleGroup(i)\"\n      />\n      <SidebarLink v-else :sidebar-depth=\"sidebarDepth\" :item=\"item\" />\n    </li>\n  </ul>\n</template>\n\n<script>\nimport SidebarGroup from \"@theme/components/SidebarGroup.vue\";\nimport SidebarLink from \"@theme/components/SidebarLink.vue\";\nimport { isActive } from \"@theme/utils/utils\";\n\nexport default {\n  name: \"SidebarLinks\",\n\n  components: { SidebarGroup, SidebarLink },\n\n  props: {\n    items: {\n      type: Array,\n      default: () => []\n    },\n    // depth of current sidebar links\n    depth: {\n      type: Number,\n      required: true\n    },\n    // depth of headers to be extracted\n    sidebarDepth: {\n      type: Number,\n      default: undefined\n    },\n    initialOpenGroupIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      openGroupIndex: this.initialOpenGroupIndex || 0\n    };\n  },\n\n  watch: {\n    $route() {\n      this.refreshIndex();\n    }\n  },\n\n  created() {\n    this.refreshIndex();\n  },\n\n  methods: {\n    refreshIndex() {\n      const index = resolveOpenGroupIndex(this.$route, this.items);\n      if (index > -1) {\n        this.openGroupIndex = index;\n      }\n    },\n\n    toggleGroup(index) {\n      this.openGroupIndex = index === this.openGroupIndex ? -1 : index;\n    },\n\n    isActive(page) {\n      return isActive(this.$route, page.regularPath);\n    }\n  }\n};\n\nfunction resolveOpenGroupIndex(route, items) {\n  for (let i = 0; i < items.length; i++) {\n    const item = items[i];\n    if (descendantIsActive(route, item)) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction descendantIsActive(route, item) {\n  if (item.type === \"group\") {\n    return item.children.some((child) => {\n      if (child.type === \"group\") {\n        return descendantIsActive(route, child);\n      } else {\n        return child.type === \"page\" && isActive(route, child.path);\n      }\n    });\n  }\n  return false;\n}\n</script>\n"]}]}